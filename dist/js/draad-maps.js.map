{
  "version": 3,
  "sources": ["../../src/js/focusTrap.js", "../../src/js/draad-maps.js"],
  "sourcesContent": ["`use strict`;\n\nclass Draad_Focus_Trap {\n  /**\n   * Constructor\n   *\n   * @param {HTMLElement} node HTML element to trap focus in\n   */\n  constructor(node) {\n    this.rootEl = node;\n  }\n\n  rootEl = null;\n\n  _active = false;\n\n  firstFocusableElement = null;\n\n  lastFocusableElement = null;\n\n  get active() {\n    return this._active;\n  }\n\n  set active(value) {\n    if (typeof value !== \"boolean\") {\n      return;\n    }\n\n    this._active = value;\n\n    if (this._active) {\n      this.activate();\n    } else {\n      this.deactivate();\n    }\n  }\n\n  /**\n   * Activate focus trap\n   */\n  activate() {\n    if (!this._active) {\n      return;\n    }\n\n    // get all focusable children\n    const focusableElements = Array.from(\n      this.rootEl.querySelectorAll(\n        \"a[href], button, textarea, input, select, summary, [tabindex]\",\n      ),\n    );\n    // filter out elements with tabindex=\"-1\"\n    focusableElements.filter(\n      (element) => element.getAttribute(\"tabindex\") !== \"-1\",\n    );\n\n    if (focusableElements.length === 0) {\n      return;\n    }\n\n    // filter out elements that are not visible\n    const visibleFocusableElements = focusableElements.filter(\n      (element) => element.offsetParent !== null,\n    );\n\n    this.firstFocusableElement = visibleFocusableElements[0];\n\n    this.lastFocusableElement =\n      visibleFocusableElements[visibleFocusableElements.length - 1];\n\n    this.rootEl.addEventListener(\"keydown\", (event) => {\n      if (event.key !== \"Tab\") {\n        return;\n      }\n\n      if (\n        !event.shiftKey &&\n        document.activeElement === this.lastFocusableElement\n      ) {\n        event.preventDefault();\n        this.firstFocusableElement.focus();\n      } else if (\n        event.shiftKey &&\n        document.activeElement === this.firstFocusableElement\n      ) {\n        event.preventDefault();\n        this.lastFocusableElement.focus();\n      }\n    });\n  }\n\n  /**\n   * Deactivate focus trap\n   */\n  deactivate() {\n    this.rootEl.removeEventListener(\"keydown\", () => {});\n\n    this.firstFocusableElement = null;\n\n    this.lastFocusableElement = null;\n  }\n}\n\nexport default Draad_Focus_Trap;\n", "import Draad_Focus_Trap from \"./focusTrap.js\";\n\n`use strict`;\n\nconst draad = {};\nconst mapEvent = new Event(\"draadMapsLoaded\");\n\n/**\n * Initialize maps\n */\nfunction draadMapsInit() {\n  draad.maps = [];\n  const nodes = document.querySelectorAll(\".draad-maps\");\n  nodes.forEach((node) => {\n    // initialize map\n    const map = new Draad_Map(node);\n\n    // save map to draad.maps\n    draad.maps.push(map);\n\n    document.dispatchEvent(mapEvent);\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", draadMapsInit);\n\nclass Draad_Map {\n  node = null;\n\n  map = null;\n\n  center = null;\n\n  zoom = null;\n\n  outerWrapper = null;\n\n  layers = [];\n\n  colors = {};\n\n  /**\n   *  Constructor\n   *\n   * @param {HTMLElement} node The HTML element that contains the map.\n   */\n  constructor(node) {\n    if (!node) {\n      throw new Error(\"Draad Maps: No map node provided.\");\n    }\n\n    this.mapNode = node;\n    this.outerWrapper = node.closest(\".draad-maps__wrapper\");\n    this.map = this.createMap();\n\n    const documentComputedStyles = getComputedStyle(document.documentElement);\n    this.colors = {\n      primary:\n        documentComputedStyles.getPropertyValue(\"--dk__clr-primary\") ||\n        \"#248641\",\n      secondary:\n        documentComputedStyles.getPropertyValue(\"--dk__clr-secondary\") ||\n        \"#7D6200\",\n      accent:\n        documentComputedStyles.getPropertyValue(\"--dk__clr-accent\") ||\n        \"#1261A3\",\n    };\n\n    /**\n     * Add clusters\n     */\n    this.cluster = L.markerClusterGroup({\n      showCoverageOnHover: false,\n      iconCreateFunction: (cluster) => {\n        const childCount = cluster.getChildCount();\n        let c = \" marker-cluster-large\";\n        if (childCount < 10) {\n          c = \"marker-cluster-small\";\n        } else if (childCount < 100) {\n          c += \"marker-cluster-medium\";\n        }\n\n        return new L.DivIcon({\n          html:\n            \"<div><span>\" +\n            childCount +\n            ' <span aria-label=\"markers\"></span>' +\n            \"</span></div>\",\n          className: \"marker-cluster\" + c,\n          iconSize: new L.Point(40, 40),\n        });\n      },\n    });\n\n    /**\n     * Manually created markers\n     */\n    const locations = this.outerWrapper.querySelectorAll(\n      \".draad-card--infowindow\",\n    );\n    const locationsLayer = L.layerGroup();\n    let minHeight = 0;\n    locations?.forEach((location) => {\n      const height = location.offsetHeight;\n      if (height > minHeight) {\n        minHeight = height;\n      }\n\n      const marker = this.addMarker(location);\n      marker.addTo(locationsLayer);\n    });\n    this.layers[\"locations\"] = locationsLayer;\n    this.layers[\"locations\"].addTo(this.cluster);\n\n    const baseFontSize = parseInt(\n      getComputedStyle(document.documentElement).fontSize,\n    );\n    node.style.minHeight = Math.round(minHeight / baseFontSize) + 3 + \"rem\";\n\n    /**\n     * Add support to open infowindows with enter key\n     */\n    this.outerWrapper.addEventListener(\"keypress\", (e) => {\n      if (e.key === \"Enter\") {\n        const simulateClick = (elem) => {\n          // Create our event (with options)\n          const evt = new MouseEvent(\"click\", {\n            bubbles: true,\n            cancelable: true,\n            view: window,\n          });\n\n          elem.dispatchEvent(evt);\n        };\n\n        simulateClick(e.target);\n      }\n    });\n\n    /**\n     * Show current GPS location of user\n     */\n    if (document.getElementById(node.id + \"-gps\")) {\n      const options = {\n        enableHighAccuracy: true,\n        timeout: 5000,\n        maximumAge: 0,\n      };\n\n      const success = (pos) => {\n        const crd = pos.coords;\n        const userLocation = L.layerGroup();\n        const marker = L.marker(\n          [parseFloat(crd.latitude), parseFloat(crd.longitude)],\n          {\n            icon: this.getLeafletIcon({\n              iconUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-gps.png`,\n              iconSize: [48, 48],\n              iconAnchor: [24, 24],\n            }),\n            riseOnHover: false,\n            alt: \"Your location\",\n          },\n        );\n        marker.addTo(userLocation);\n\n        this.layers[\"userLocation\"] = userLocation;\n        this.layers[\"userLocation\"].addTo(this.cluster);\n      };\n\n      function error(err) {\n        console.warn(`ERROR(${err.code}): ${err.message}`);\n      }\n\n      navigator.geolocation.getCurrentPosition(success, error, options);\n    }\n\n    const datasetNodes = document.querySelectorAll(\".draad-maps__dataset\");\n    if (datasetNodes.length) {\n      datasetNodes.forEach((node) => {\n        const endpoint = node.dataset.draadGeojson;\n        const name = node.dataset.datasetName;\n\n        if (document.getElementById(node.dataset.draadGeojsonTarget)) {\n          const data = JSON.parse(\n            document.getElementById(node.dataset.draadGeojsonTarget).text,\n          );\n\n          let geoJSON = data;\n          if (\n            typeof data.type === \"undefined\" ||\n            data.type !== \"FeatureCollection\"\n          ) {\n            geoJSON = this.jsonToGeoJSON(data);\n          }\n\n          const geojsonLayer = this.addData(geoJSON, node);\n          this.layers[name] = geojsonLayer;\n          this.layers[name].addTo(this.cluster);\n        } else if (endpoint) {\n          const checkbox = node.querySelector(\"input\");\n\n          fetch(endpoint)\n            .then((response) => response.json())\n            .then((data) => {\n              let geoJSON = data;\n              if (\n                typeof data.type === \"undefined\" ||\n                data.type !== \"FeatureCollection\"\n              ) {\n                geoJSON = this.jsonToGeoJSON(data);\n              }\n\n              const geojsonLayer = this.addData(geoJSON, node);\n              this.layers[name] = geojsonLayer;\n              this.layers[name].addTo(this.cluster);\n            });\n        }\n      });\n\n      this.legendNode = this.outerWrapper.querySelector(\".draad-maps__legend\");\n      if (this.legendNode) {\n        this.legendHandler();\n      }\n    }\n\n    /**\n     * Add clusters to map\n     */\n    this.map.addLayer(this.cluster);\n\n    /**\n     * Add search\n     */\n    const search = this.outerWrapper.querySelector(\".draad-search\");\n    if (search) {\n      this.searchInput = search.querySelector(\".draad-search__input\");\n      this.searchSubmit = search.querySelector(\".draad-search__submit\");\n      this.searchHandler();\n    }\n\n    /**\n     * Remove touch instructions after interaction\n     */\n    const instructions = this.outerWrapper.querySelector(\n      \".draad-maps__instructions\",\n    );\n    if (instructions) {\n      instructions.addEventListener(\"click\", () => instructions.remove());\n      instructions.addEventListener(\"touchstart\", () => instructions.remove());\n    }\n  }\n\n  /**\n   * Returns default marker styles\n   *\n   * @param object config\n   * @returns object\n   */\n  getLeafletIcon = (config) =>\n    L.icon({\n      iconUrl: \"\",\n      iconSize: [39.2, 51.2],\n      iconAnchor: [19.6, 51.2],\n      popupAnchor: [-3, -76],\n      ...config,\n    });\n\n  /**\n   * Converts json to GeoJson format\n   *\n   * @param object json\n   * @returns object\n   */\n  jsonToGeoJSON = (json) => {\n    const geoJson = {\n      type: \"FeatureCollection\",\n      features: json.result.records.map((record) => ({\n        type: \"Feature\",\n        geometry: record.wkb_geometry,\n        properties: { ...record },\n      })),\n    };\n\n    return geoJson;\n  };\n\n  /**\n   * Creates a new Leaflet map.\n   *\n   * @returns object\n   */\n  createMap = () => {\n    const center = this.mapNode.dataset.draadCenter.split(\"/\");\n\n    this.center = [parseFloat(center[1]), parseFloat(center[2])];\n    this.zoom = parseInt(center[0]);\n\n    const map = L.map(this.mapNode.id, {\n      dragging: !L.Browser.mobile,\n      tap: !L.Browser.mobile,\n      scrollWheelZoom: false,\n    }).setView(this.center, this.zoom);\n\n    // Tile layer\n    L.tileLayer(\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n      maxZoom: 16,\n      attribution:\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    }).addTo(map);\n\n    // remove zoom control\n    map.removeControl(map.zoomControl);\n\n    L.control\n      .zoom({\n        position: \"bottomleft\",\n        zoomInText:\n          '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\"><g><path d=\"M10 4.16602V15.8327\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M4.16602 10H15.8327\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></g></svg>',\n        zoomInTitle: \"Zoom in\",\n        zoomOutText:\n          '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\"><g><path d=\"M4.16602 10H15.8327\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></g></svg>',\n        zoomOutTitle: \"Zoom out\",\n      })\n      .addTo(map);\n\n    return map;\n  };\n\n  /**\n   * Adds a marker to the map.\n   *\n   * @param {HTMLElement} location Turns custom infowindow into a marker.\n   *\n   * @returns object\n   */\n  addMarker = (location) => {\n    const center = location.dataset.draadCenter.split(\"/\").map(parseFloat);\n    const marker = L.marker(center, {\n      riseOnHover: true,\n      alt: location.querySelector(\".draad-card__title\")?.textContent,\n    });\n\n    marker._styles = {\n      default:\n        location.dataset.marker !== \"\"\n          ? this.getLeafletIcon({ iconUrl: location.dataset.marker })\n          : this.getLeafletIcon({\n              iconUrl: `${draadMapsConfig.pluginDir}/dist/images/marker.png`,\n            }),\n      hover:\n        location.dataset.markerHover !== \"\"\n          ? this.getLeafletIcon({\n              iconUrl: location.dataset.markerHover,\n            })\n          : this.getLeafletIcon({\n              iconUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-hover.png`,\n            }),\n      active:\n        location.dataset.markerActive !== \"\"\n          ? this.getLeafletIcon({\n              iconUrl: location.dataset.markerActive,\n            })\n          : this.getLeafletIcon({\n              iconUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-active.png`,\n            }),\n    };\n\n    marker.setIcon(marker._styles.default);\n\n    // set aria-selected\n    marker.selected = false;\n\n    marker.locationTrap = new Draad_Focus_Trap(location);\n\n    this.markerHandler(marker, location);\n\n    return marker;\n  };\n\n  /**\n   * Event handler for markers.\n   *\n   * @param {object} marker The marker object.\n   * @param {HTMLElement} location The infowindow.\n   */\n  markerHandler = (marker, location = null) => {\n    const draad = this;\n\n    const close = location\n      ? location.querySelector(\".draad-card__close\")\n      : null;\n    if (close) {\n      close.addEventListener(\"click\", (e) => {\n        marker.locationTrap.active = false;\n\n        this.markerSetState(marker, \"default\");\n        marker.selected = false;\n\n        if (marker.icon) {\n          marker.icon.focus();\n        }\n\n        location.classList.remove(\"draad-infowindow--active\");\n        location.setAttribute(\"aria-hidden\", \"true\");\n        location.setAttribute(\"hidden\", \"\");\n      });\n    }\n\n    marker.on(\"click\", (e) => {\n      if (\n        location &&\n        location.querySelector(\".draad-card__content\")?.textContent\n      ) {\n        // close other infowindows\n        const locations = location\n          .closest(\".draad-maps__wrapper\")\n          .querySelectorAll(\".draad-card--infowindow\");\n        locations.forEach((location) => {\n          location.classList.remove(\"draad-card--active\");\n          location.setAttribute(\"aria-hidden\", \"true\");\n          location.setAttribute(\"hidden\", \"\");\n        });\n\n        // update marker of other infowindows\n        this.layers[\"locations\"].eachLayer((layer) => {\n          if (layer.selected === true) {\n            this.markerSetState(layer, \"default\");\n            layer.selected = false;\n          }\n        });\n\n        if (marker.selected === true) {\n          marker.locationTrap.active = false;\n\n          location.classList.remove(\"draad-card--active\");\n          location.setAttribute(\"aria-hidden\", \"true\");\n          location.setAttribute(\"hidden\", \"\");\n\n          if (marker.icon) {\n            marker.icon.focus();\n          }\n        } else {\n          location.classList.add(\"draad-card--active\");\n          location.setAttribute(\"aria-hidden\", \"false\");\n          location.removeAttribute(\"hidden\");\n\n          marker.locationTrap.active = true;\n\n          const close = location.querySelector(\".draad-card__close\");\n          close.focus();\n        }\n      } else {\n        marker.openPopup();\n      }\n\n      this.markerSetState(marker, marker.selected ? \"default\" : \"active\");\n      marker.selected = !marker.selected;\n    });\n\n    marker.on(\"popupclose\", (e) => {\n      this.markerSetState(marker, \"default\");\n      marker.selected = false;\n\n      if (location) {\n        marker.locationTrap.active = false;\n\n        location.classList.remove(\"draad-card--active\");\n        location.setAttribute(\"aria-hidden\", \"true\");\n        location.setAttribute(\"hidden\", \"\");\n\n        if (marker.icon) {\n          marker.icon.focus();\n        }\n      }\n    });\n  };\n\n  /**\n   * Changes the state of a marker.\n   *\n   * @param {object} marker The marker object.\n   * @param {string} state The state of the marker.\n   */\n  markerSetState = (marker, state) => {\n    switch (state) {\n      case \"active\":\n      case \"focus\":\n        marker.setIcon(marker._styles.active);\n        break;\n\n      case \"hover\":\n        marker.setIcon(marker._styles.hover);\n        break;\n\n      default:\n        marker.setIcon(marker._styles.default);\n        break;\n    }\n  };\n\n  /**\n   * Adds a GeoJSON layer to the map.\n   *\n   * @param {object} data The GeoJSON data.\n   * @param {HTMLElement} node The Legend item node.\n   */\n  addData = (data, node) => {\n    const layer = L.geoJSON(data);\n    layer.getLayers()?.forEach((feature) => {\n      feature._styles = {\n        default:\n          typeof node !== \"undefined\" && node.dataset.marker !== \"\"\n            ? this.getLeafletIcon({ iconUrl: node.dataset.marker })\n            : this.getLeafletIcon({\n                iconUrl: `${draadMapsConfig.pluginDir}/dist/images/marker.png`,\n              }),\n        hover:\n          typeof node !== \"undefined\" && node.dataset.markerHover !== \"\"\n            ? this.getLeafletIcon({\n                iconUrl: node.dataset.markerHover,\n              })\n            : this.getLeafletIcon({\n                iconUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-hover.png`,\n              }),\n        active:\n          typeof node !== \"undefined\" && node.dataset.markerActive !== \"\"\n            ? this.getLeafletIcon({\n                iconUrl: node.dataset.markerActive,\n              })\n            : this.getLeafletIcon({\n                iconUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-active.png`,\n              }),\n      };\n\n      feature._style = {\n        color:\n          typeof node !== \"undefined\" && node.dataset.shapeColor !== \"\"\n            ? node.dataset.shapeColor\n            : this.colors.primary,\n        weight:\n          typeof node !== \"undefined\" && node.dataset.shapeWidth !== \"\"\n            ? node.dataset.shapeWidth\n            : 4,\n        dashArray:\n          typeof node !== \"undefined\" && node.dataset.shapeStyle === \"solid\"\n            ? \"0, 0\"\n            : \"8, 8\",\n        fillColor:\n          typeof node !== \"undefined\" && node.dataset.shapeColor !== \"\"\n            ? node.dataset.shapeColor\n            : this.colors.primary,\n        fillOpacity: 0,\n      };\n\n      // set popup\n      if (feature.feature.properties.titel) {\n        feature.bindPopup(feature.feature.properties.titel);\n      }\n\n      // set border\n      if (typeof feature.setStyle === \"function\") {\n        feature.setStyle(feature._style);\n        feature.options.alt = feature.feature.properties?.name;\n        feature.options.title = feature.feature.properties?.titel;\n        feature.selected = false;\n        this.dataHandler(feature);\n      }\n\n      // set icon\n      if (typeof feature.setIcon === \"function\") {\n        feature.setIcon(feature._styles.default);\n\n        feature.options.alt = feature.feature.properties?.name;\n        feature.options.title = feature.feature.properties?.titel;\n        feature.selected = false;\n        this.markerHandler(feature, null);\n      }\n    });\n\n    return layer;\n  };\n\n  /**\n   * Event handler for GeoJSON data.\n   *\n   * @param {object} feature The GeoJSON feature.\n   */\n  dataHandler = (feature) => {\n    const draad = this;\n    feature.on(\"click\", (e) => {\n      this.dataSetState(feature, \"active\");\n      this.map.flyToBounds(feature.getBounds(), { padding: [0, 0] });\n    });\n\n    feature.on(\"popupclose\", (e) => this.dataSetState(feature, \"default\"));\n  };\n\n  /**\n   * Changes the state of a GeoJSON feature.\n   *\n   * @param {object} feature The GeoJSON feature.\n   * @param {string} state The state of the feature.\n   */\n  dataSetState = (feature, state) => {\n    switch (state) {\n      case \"active\":\n        const styleActive = feature._style;\n        styleActive.fillOpacity = 0.15;\n        feature.setStyle(styleActive);\n        break;\n      case \"hover\":\n        const styleHover = feature._style;\n        styleHover.fillOpacity = 0.15;\n        feature.setStyle(styleHover);\n        break;\n      case \"focus\":\n        const styleFocus = feature._style;\n        styleFocus.fillOpacity = 0.15;\n        feature.setStyle(styleFocus);\n        break;\n      default:\n        const styleDefault = feature._style;\n        styleDefault.fillOpacity = 0;\n        feature.setStyle(styleDefault);\n        break;\n    }\n  };\n\n  /**\n   * Event handler for legend\n   */\n  legendHandler = () => {\n    const checkboxes = this.legendNode.querySelectorAll(\"input\");\n    checkboxes?.forEach((checkbox) => {\n      const dataset = checkbox.closest(\".draad-maps__dataset\");\n      const name = dataset.dataset.datasetName;\n\n      checkbox.addEventListener(\"change\", (event) => {\n        if (checkbox.checked) {\n          const endpoint = dataset.dataset.draadGeojson;\n\n          if (document.getElementById(dataset.dataset.draadGeojsonTarget)) {\n            const data = JSON.parse(\n              document.getElementById(dataset.dataset.draadGeojsonTarget).text,\n            );\n\n            let geoJSON = null;\n            if (\n              typeof data.type === \"undefined\" ||\n              data.type !== \"FeatureCollection\"\n            ) {\n              geoJSON = this.jsonToGeoJSON(data);\n            } else {\n              geoJSON = data;\n            }\n\n            const geojsonLayer = this.addData(geoJSON, dataset);\n            this.layers[name] = geojsonLayer;\n            this.layers[name].addTo(this.cluster);\n          } else if (endpoint) {\n            const checkbox = dataset.querySelector(\"input\");\n\n            fetch(endpoint)\n              .then((response) => response.json())\n              .then((data) => {\n                let geoJSON = data;\n                if (\n                  typeof data.type === \"undefined\" ||\n                  data.type !== \"FeatureCollection\"\n                ) {\n                  geoJSON = this.jsonToGeoJSON(data);\n                }\n\n                const markerSrc = dataset.dataset.draadMarker;\n                const markerActiveSrc = dataset.dataset.draadMarkerActive;\n                const geojsonLayer = this.addData(geoJSON, dataset);\n                this.layers[name] = geojsonLayer;\n                this.layers[name].addTo(this.cluster);\n              });\n          }\n        } else {\n          if (!this.layers[name]) {\n            return;\n          }\n\n          this.cluster.removeLayer(this.layers[name]);\n\n          // remove search marker from layers\n          delete this.layers[name];\n        }\n      });\n    });\n  };\n\n  /**\n   * Event handler for the search input.\n   *\n   * @return void\n   */\n  searchHandler = () => {\n    const autocomplete = document.getElementById(\n      this.searchInput.getAttribute(\"list\"),\n    );\n\n    this.searchInput.addEventListener(\n      \"keyup\",\n      debounce(() => {\n        // get posible locations from nominatim api\n        fetch(\n          `https://nominatim.openstreetmap.org/search?&q=Den+Haag+${this.searchInput.value}&layer=address,manmade,poi&polygon_geojson=1&countrycodes=nl&format=json&addressdetails=1&limit=10`,\n        )\n          .then((response) => response.json())\n          .then((data) => {\n            autocomplete.innerHTML = \"\";\n            data.forEach((location) => {\n              const option = document.createElement(\"option\");\n              option.value = location.display_name;\n              autocomplete.appendChild(option);\n            });\n          });\n      }, 750),\n    );\n\n    this.searchSubmit.addEventListener(\"click\", (e) => {\n      e.preventDefault();\n\n      this.removeSearchMarker();\n\n      // get posible locations from nominatim api\n      fetch(\n        `https://nominatim.openstreetmap.org/search?&q=Den+Haag+${this.searchInput.value}&layer=address,manmade,poi&polygon_geojson=1&countrycodes=nl&format=geojson&addressdetails=1&limit=1`,\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          if (data.features.length === 0) {\n            return;\n          }\n\n          this.addSearchMarker(data);\n        })\n        .then(() => this.sortLocations());\n    });\n  };\n\n  /**\n   * Adds a search marker to the map.\n   *\n   * @param {object} geojson The GeoJSON data.\n   */\n  addSearchMarker = (geojson) => {\n    // add new layer group top map with search marker\n    const searchLayer = L.layerGroup();\n\n    // add geojson layer to layer group\n    searchLayer.addLayer(\n      L.geoJson(geojson, {\n        style: {\n          color: this.colors.accent,\n          weight: 3,\n          fillColor: this.colors.accent,\n          fillOpacity: 0.3,\n        },\n        onEachFeature: (feature, layer) => {\n          if (typeof layer.setIcon === \"function\") {\n            layer.setIcon(\n              this.getLeafletIcon({\n                iconUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-search.png`,\n              }),\n            );\n          } else if (typeof layer.setStyle === \"function\") {\n            layer.setStyle({\n              color: this.colors.accent,\n              weight: 4,\n              dashArray: \"0, 0\",\n              fillColor: this.colors.accent,\n              fillOpacity: 0.3,\n            });\n          }\n        },\n      }),\n    );\n    // zoom to search marker\n    this.map.flyToBounds(L.geoJson(geojson).getBounds(), {\n      padding: [50, 50],\n    });\n\n    searchLayer.addTo(this.map);\n    this.layers[\"search\"] = searchLayer;\n  };\n\n  /**\n   * Removes the search marker from the map.\n   */\n  removeSearchMarker = () => {\n    if (!this.layers[\"search\"]) {\n      return;\n    }\n\n    this.map.removeLayer(this.layers[\"search\"]);\n\n    // remove search marker from layers\n    delete this.layers[\"search\"];\n  };\n\n  /**\n   * Sorts locations by distance to search marker.\n   */\n  sortLocations = () => {\n    const wrapper = this.mapNode.closest(\".draad-maps__wrapper\");\n    const list = wrapper.querySelector(\".draad-grid\");\n    const locations = wrapper.querySelectorAll(\n      \".draad-card:not(.draad-card--infowindow)\",\n    );\n\n    if (!this.layers[\"search\"]) {\n      return;\n    }\n\n    const center = this.layers[\"search\"].getLayers()[0].getBounds().getCenter();\n\n    // sort locations by distance to search marker\n    const sortedLocations = [...locations].sort((a, b) => {\n      const aCenter = a\n        .getAttribute(\"data-draad-center\")\n        .split(\"/\")\n        .map(Number);\n      const bCenter = b\n        .getAttribute(\"data-draad-center\")\n        .split(\"/\")\n        .map(Number);\n\n      const aDistance = this.map.distance(center, aCenter);\n      const bDistance = this.map.distance(center, bCenter);\n\n      return aDistance - bDistance;\n    });\n\n    // remove all locations from dom\n    list.innerHTML = \"\";\n\n    // add sorted locations to dom\n    sortedLocations.forEach((location) => list.appendChild(location));\n  };\n}\n\n/**\n * Limits the number of times the callback can be called.\n *\n * @param {function} callback The function to debounce.\n * @param {number} wait The time to wait.\n */\nfunction debounce(callback, wait) {\n  let timeout;\n  return (...args) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      callback.apply(this, args);\n    }, wait);\n  };\n}\n"],
  "mappings": "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",
  "names": ["Draad_Focus_Trap", "node", "value", "focusableElements", "element", "visibleFocusableElements", "event", "focusTrap_default", "draad", "mapEvent", "draadMapsInit", "node", "map", "Draad_Map", "documentComputedStyles", "cluster", "childCount", "c", "locations", "locationsLayer", "minHeight", "location", "height", "baseFontSize", "e", "elem", "evt", "error", "err", "options", "success", "pos", "crd", "userLocation", "datasetNodes", "endpoint", "name", "data", "geoJSON", "geojsonLayer", "checkbox", "response", "search", "instructions", "config", "json", "record", "center", "marker", "focusTrap_default", "close", "layer", "state", "feature", "styleActive", "styleHover", "styleFocus", "styleDefault", "dataset", "event", "markerSrc", "markerActiveSrc", "autocomplete", "debounce", "option", "geojson", "searchLayer", "wrapper", "list", "sortedLocations", "a", "b", "aCenter", "bCenter", "aDistance", "bDistance", "callback", "wait", "timeout", "args"]
}
