{
  "version": 3,
  "sources": ["../../src/js/focusTrap.js", "../../src/js/draad-maps.js"],
  "sourcesContent": ["`use strict`;\n\nclass Draad_Focus_Trap {\n  /**\n   * Constructor\n   *\n   * @param {HTMLElement} node HTML element to trap focus in\n   */\n  constructor(node) {\n    this.rootEl = node;\n  }\n\n  rootEl = null;\n\n  _active = false;\n\n  firstFocusableElement = null;\n\n  lastFocusableElement = null;\n\n  get active() {\n    return this._active;\n  }\n\n  set active(value) {\n    if (typeof value !== \"boolean\") {\n      return;\n    }\n\n    this._active = value;\n\n    if (this._active) {\n      this.activate();\n    } else {\n      this.deactivate();\n    }\n  }\n\n  /**\n   * Activate focus trap\n   */\n  activate() {\n    if (!this._active) {\n      return;\n    }\n\n    // get all focusable children\n    const focusableElements = Array.from(\n      this.rootEl.querySelectorAll(\n        \"a[href], button, textarea, input, select, summary, [tabindex]\",\n      ),\n    );\n    // filter out elements with tabindex=\"-1\"\n    focusableElements.filter(\n      (element) => element.getAttribute(\"tabindex\") !== \"-1\",\n    );\n\n    if (focusableElements.length === 0) {\n      return;\n    }\n\n    // filter out elements that are not visible\n    const visibleFocusableElements = focusableElements.filter(\n      (element) => element.offsetParent !== null,\n    );\n\n    this.firstFocusableElement = visibleFocusableElements[0];\n\n    this.lastFocusableElement =\n      visibleFocusableElements[visibleFocusableElements.length - 1];\n\n    this.rootEl.addEventListener(\"keydown\", (event) => {\n      if (event.key !== \"Tab\") {\n        return;\n      }\n\n      if (\n        !event.shiftKey &&\n        document.activeElement === this.lastFocusableElement\n      ) {\n        event.preventDefault();\n        this.firstFocusableElement.focus();\n      } else if (\n        event.shiftKey &&\n        document.activeElement === this.firstFocusableElement\n      ) {\n        event.preventDefault();\n        this.lastFocusableElement.focus();\n      }\n    });\n  }\n\n  /**\n   * Deactivate focus trap\n   */\n  deactivate() {\n    this.rootEl.removeEventListener(\"keydown\", () => {});\n\n    this.firstFocusableElement = null;\n\n    this.lastFocusableElement = null;\n  }\n}\n\nexport default Draad_Focus_Trap;\n", "import Draad_Focus_Trap from \"./focusTrap.js\";\n\n`use strict`;\n\nconst draad = {};\nconst mapEvent = new Event(\"draadMapsLoaded\");\n\n/**\n * Initialize maps\n */\nfunction draadMapsInit() {\n\tdraad.maps = [];\n\tconst nodes = document.querySelectorAll(\".draad-maps\");\n\tnodes.forEach((node) => {\n\t\t// initialize map\n\t\tconst map = new Draad_Map(node);\n\n\t\t// save map to draad.maps\n\t\tdraad.maps.push(map);\n\n\t\tdocument.dispatchEvent(mapEvent);\n\t});\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", draadMapsInit);\n\nclass Draad_Map {\n\tnode = null;\n\n\tmap = null;\n\n\tcenter = null;\n\n\tzoom = null;\n\n\touterWrapper = null;\n\n\tlayers = [];\n\n\tcolors = {};\n\n\t/**\n\t *  Constructor\n\t *\n\t * @param {HTMLElement} node The HTML element that contains the map.\n\t */\n\tconstructor(node) {\n\t\tif (!node) {\n\t\t\tthrow new Error(\"Draad Maps: No map node provided.\");\n\t\t}\n\n\t\tthis.mapNode = node;\n\t\tthis.outerWrapper = node.closest(\".draad-maps__wrapper\");\n\t\tthis.map = this.createMap();\n\n\t\tconst documentComputedStyles = getComputedStyle(\n\t\t\tdocument.documentElement\n\t\t);\n\t\tthis.colors = {\n\t\t\tprimary:\n\t\t\t\tdocumentComputedStyles.getPropertyValue(\"--dk__clr-primary\") ||\n\t\t\t\t\"#248641\",\n\t\t\tsecondary:\n\t\t\t\tdocumentComputedStyles.getPropertyValue(\n\t\t\t\t\t\"--dk__clr-secondary\"\n\t\t\t\t) || \"#7D6200\",\n\t\t\taccent:\n\t\t\t\tdocumentComputedStyles.getPropertyValue(\"--dk__clr-accent\") ||\n\t\t\t\t\"#1261A3\"\n\t\t};\n\n\t\t/**\n\t\t * Add clusters\n\t\t */\n\t\tthis.cluster = L.markerClusterGroup({\n\t\t\tshowCoverageOnHover: false,\n\t\t\ticonCreateFunction: (cluster) => {\n\t\t\t\tconst childCount = cluster.getChildCount();\n\t\t\t\tlet c = \" marker-cluster-large\";\n\t\t\t\tlet size = 56;\n\t\t\t\tif (childCount < 10) {\n\t\t\t\t\tc = \"marker-cluster-small\";\n\t\t\t\t\tsize = 40;\n\t\t\t\t} else if (childCount < 100) {\n\t\t\t\t\tc += \"marker-cluster-medium\";\n\t\t\t\t\tsize = 48;\n\t\t\t\t}\n\n\t\t\t\treturn new L.DivIcon({\n\t\t\t\t\thtml:\n\t\t\t\t\t\t'<div class=\"marker-cluster\"><span>' +\n\t\t\t\t\t\tchildCount +\n\t\t\t\t\t\t' <span aria-label=\"markers\"></span>' +\n\t\t\t\t\t\t\"</span></div>\",\n\t\t\t\t\tclassName: c,\n\t\t\t\t\ticonSize: new L.Point(size, size)\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\t/**\n\t\t * Manually created markers\n\t\t */\n\t\tconst locations = this.outerWrapper.querySelectorAll(\n\t\t\t\".draad-card--infowindow\"\n\t\t);\n\t\tconst locationsLayer = L.layerGroup();\n\t\tlet minHeight = 0;\n\t\tlocations?.forEach((location) => {\n\t\t\tconst height = location.offsetHeight;\n\t\t\tif (height > minHeight) {\n\t\t\t\tminHeight = height;\n\t\t\t}\n\n\t\t\tconst marker = this.addMarker(location);\n\t\t\tmarker.addTo(locationsLayer);\n\t\t});\n\t\tthis.layers[\"locations\"] = locationsLayer;\n\t\tthis.layers[\"locations\"].addTo(this.cluster);\n\n\t\tconst baseFontSize = parseInt(\n\t\t\tgetComputedStyle(document.documentElement).fontSize\n\t\t);\n\t\tnode.style.minHeight = Math.round(minHeight / baseFontSize) + 3 + \"rem\";\n\n\t\t/**\n\t\t * Add support to open infowindows with enter key\n\t\t */\n\t\tthis.outerWrapper.addEventListener(\"keypress\", (e) => {\n\t\t\tif (e.key === \"Enter\") {\n\t\t\t\tconst simulateClick = (elem) => {\n\t\t\t\t\t// Create our event (with options)\n\t\t\t\t\tconst evt = new MouseEvent(\"click\", {\n\t\t\t\t\t\tbubbles: true,\n\t\t\t\t\t\tcancelable: true,\n\t\t\t\t\t\tview: window\n\t\t\t\t\t});\n\n\t\t\t\t\telem.dispatchEvent(evt);\n\t\t\t\t};\n\n\t\t\t\tsimulateClick(e.target);\n\t\t\t}\n\t\t});\n\n\t\t/**\n\t\t * Show current GPS location of user\n\t\t */\n\t\tif (document.getElementById(node.id + \"-gps\")) {\n\t\t\tconst options = {\n\t\t\t\tenableHighAccuracy: true,\n\t\t\t\ttimeout: 5000,\n\t\t\t\tmaximumAge: 0\n\t\t\t};\n\n\t\t\tconst success = (pos) => {\n\t\t\t\tconst crd = pos.coords;\n\t\t\t\tconst userLocation = L.layerGroup();\n\t\t\t\tconst marker = L.marker(\n\t\t\t\t\t[parseFloat(crd.latitude), parseFloat(crd.longitude)],\n\t\t\t\t\t{\n\t\t\t\t\t\ticon: this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-gps.png`,\n\t\t\t\t\t\t\ticonSize: [48, 48],\n\t\t\t\t\t\t\ticonAnchor: [24, 24]\n\t\t\t\t\t\t}),\n\t\t\t\t\t\triseOnHover: false,\n\t\t\t\t\t\talt: \"Your location\"\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tmarker.addTo(userLocation);\n\n\t\t\t\tthis.layers[\"userLocation\"] = userLocation;\n\t\t\t\tthis.layers[\"userLocation\"].addTo(this.cluster);\n\t\t\t};\n\n\t\t\tfunction error(err) {\n\t\t\t\tconsole.warn(`ERROR(${err.code}): ${err.message}`);\n\t\t\t}\n\n\t\t\tnavigator.geolocation.getCurrentPosition(success, error, options);\n\t\t}\n\n\t\t/**\n\t\t * Show datalayers\n\t\t */\n\t\tconst datasetNodes = document.querySelectorAll(\".draad-maps__dataset\");\n\t\tif (datasetNodes.length) {\n\t\t\tdatasetNodes.forEach((node) => {\n\t\t\t\tconst endpoint = node.dataset.draadGeojson;\n\t\t\t\tconst name = node.dataset.datasetName;\n\n\t\t\t\tif (document.getElementById(node.dataset.draadGeojsonTarget)) {\n\t\t\t\t\tconst data = JSON.parse(\n\t\t\t\t\t\tdocument.getElementById(node.dataset.draadGeojsonTarget)\n\t\t\t\t\t\t\t.text\n\t\t\t\t\t);\n\n\t\t\t\t\tlet geoJSON = data;\n\t\t\t\t\tgeoJSON = this.jsonToGeoJSON(data);\n\n\t\t\t\t\tconst geojsonLayer = this.addData(geoJSON, node);\n\t\t\t\t\tthis.layers[name] = geojsonLayer;\n\t\t\t\t\tthis.layers[name].addTo(this.cluster);\n\t\t\t\t} else if (endpoint) {\n\t\t\t\t\tconst checkbox = node.querySelector(\"input\");\n\n\t\t\t\t\tfetch(endpoint)\n\t\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\t\tlet geoJSON = data;\n\t\t\t\t\t\t\tgeoJSON = this.jsonToGeoJSON(data);\n\n\t\t\t\t\t\t\tconst geojsonLayer = this.addData(geoJSON, node);\n\t\t\t\t\t\t\tthis.layers[name] = geojsonLayer;\n\t\t\t\t\t\t\tthis.layers[name].addTo(this.cluster);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.legendNode = this.outerWrapper.querySelector(\n\t\t\t\t\".draad-maps__legend\"\n\t\t\t);\n\t\t\tif (this.legendNode) {\n\t\t\t\tthis.legendHandler();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Add clusters to map\n\t\t */\n\t\tthis.map.addLayer(this.cluster);\n\n\t\t/**\n\t\t * Add search\n\t\t */\n\t\tconst search = this.outerWrapper.querySelector(\".draad-search\");\n\t\tif (search) {\n\t\t\tthis.searchInput = search.querySelector(\".draad-search__input\");\n\t\t\tthis.searchSubmit = search.querySelector(\".draad-search__submit\");\n\t\t\tthis.searchHandler();\n\t\t}\n\n\t\t/**\n\t\t * Remove touch instructions after interaction\n\t\t */\n\t\tconst instructions = this.outerWrapper.querySelector(\n\t\t\t\".draad-maps__instructions\"\n\t\t);\n\t\tif (instructions) {\n\t\t\tinstructions.addEventListener(\"click\", () => instructions.remove());\n\t\t\tinstructions.addEventListener(\"touchstart\", () =>\n\t\t\t\tinstructions.remove()\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Returns default marker styles\n\t *\n\t * @param object config\n\t * @returns object\n\t */\n\tgetLeafletIcon = (config) =>\n\t\tL.icon({\n\t\t\ticonUrl: \"\",\n\t\t\ticonSize: [39.2, 51.2],\n\t\t\ticonAnchor: [19.6, 51.2],\n\t\t\tpopupAnchor: [-3, -76],\n\t\t\t...config\n\t\t});\n\n\tisRdCoordinates(x, y) {\n\t\tif (typeof x !== \"number\" || typeof y !== \"number\") {\n\t\t\tconsole.error(\n\t\t\t\t\"Draad_Map.isRdCoordinates(): coordinates not valid\",\n\t\t\t\tx,\n\t\t\t\ty\n\t\t\t);\n\t\t\treturn false;\n\t\t}\n\n\t\treturn x > 0 && x < 300000 && y > 300000 && y < 620000; // Typische ranges voor RD-co\u00F6rdinaten\n\t}\n\n\trdToWgs84 = (x, y) => {\n\t\tif (typeof x !== \"number\" || typeof y !== \"number\") {\n\t\t\tconsole.error(\"Draad_Map.rdToWgs84(): coordinates not valid\");\n\t\t\treturn false;\n\t\t}\n\n\t\tif (x < 1000) x *= 1000;\n\t\tif (y < 1000) y *= 1000;\n\n\t\tconst x0 = 155000.0;\n\t\tconst y0 = 463000.0;\n\n\t\tconst f0 = 52.156160556;\n\t\tconst l0 = 5.387638889;\n\n\t\tconst a01 = 3236.0331637;\n\t\tconst b10 = 5261.3028966;\n\t\tconst a20 = -32.5915821;\n\t\tconst b11 = 105.9780241;\n\t\tconst a02 = -0.2472814;\n\t\tconst b12 = 2.4576469;\n\t\tconst a21 = -0.8501341;\n\t\tconst b30 = -0.8192156;\n\t\tconst a03 = -0.0655238;\n\t\tconst b31 = -0.0560092;\n\t\tconst a22 = -0.0171137;\n\t\tconst b13 = 0.0560089;\n\t\tconst a40 = 0.0052771;\n\t\tconst b32 = -0.0025614;\n\t\tconst a23 = -0.0003859;\n\t\tconst b14 = 0.001277;\n\t\tconst a41 = 0.0003314;\n\t\tconst b50 = 0.0002574;\n\t\tconst a04 = 0.0000371;\n\t\tconst b33 = -0.0000973;\n\t\tconst a42 = 0.0000143;\n\t\tconst b51 = 0.0000293;\n\t\tconst a24 = -0.000009;\n\t\tconst b15 = 0.0000291;\n\n\t\tconst dx = (x - x0) * Math.pow(10, -5);\n\t\tconst dy = (y - y0) * Math.pow(10, -5);\n\n\t\tlet df =\n\t\t\ta01 * dy +\n\t\t\ta20 * Math.pow(dx, 2) +\n\t\t\ta02 * Math.pow(dy, 2) +\n\t\t\ta21 * Math.pow(dx, 2) * dy +\n\t\t\ta03 * Math.pow(dy, 3);\n\t\tdf +=\n\t\t\ta40 * Math.pow(dx, 4) +\n\t\t\ta22 * Math.pow(dx, 2) * Math.pow(dy, 2) +\n\t\t\ta04 * Math.pow(dy, 4) +\n\t\t\ta41 * Math.pow(dx, 4) * dy;\n\t\tdf +=\n\t\t\ta23 * Math.pow(dx, 2) * Math.pow(dy, 3) +\n\t\t\ta42 * Math.pow(dx, 4) * Math.pow(dy, 2) +\n\t\t\ta24 * Math.pow(dx, 2) * Math.pow(dy, 4);\n\n\t\tconst f = f0 + df / 3600;\n\n\t\tlet dl =\n\t\t\tb10 * dx +\n\t\t\tb11 * dx * dy +\n\t\t\tb30 * Math.pow(dx, 3) +\n\t\t\tb12 * dx * Math.pow(dy, 2) +\n\t\t\tb31 * Math.pow(dx, 3) * dy;\n\t\tdl +=\n\t\t\tb13 * dx * Math.pow(dy, 3) +\n\t\t\tb50 * Math.pow(dx, 5) +\n\t\t\tb32 * Math.pow(dx, 3) * Math.pow(dy, 2) +\n\t\t\tb14 * dx * Math.pow(dy, 4);\n\t\tdl +=\n\t\t\tb51 * Math.pow(dx, 5) * dy +\n\t\t\tb33 * Math.pow(dx, 3) * Math.pow(dy, 3) +\n\t\t\tb15 * dx * Math.pow(dy, 5);\n\n\t\tconst l = l0 + dl / 3600;\n\n\t\tconst fWgs =\n\t\t\tf + (-96.862 - 11.714 * (f - 52) - 0.125 * (l - 5)) / 100000;\n\t\tconst lWgs =\n\t\t\tl + (-37.902 + 0.329 * (f - 52) - 14.667 * (l - 5)) / 100000;\n\n\t\treturn {\n\t\t\tlat: fWgs,\n\t\t\tlon: lWgs\n\t\t};\n\t};\n\n\tparseGeometry = (geometry, feature) => {\n\t\tlet coordinates, coordinatesObj, x, y;\n\n\t\tif (\n\t\t\ttypeof feature.properties !== \"undefined\" &&\n\t\t\ttypeof feature.properties.wkb_geometry !== \"undefined\"\n\t\t) {\n\t\t\treturn feature.properties.wkb_geometry;\n\t\t} else if (typeof feature.wkb_geometry !== \"undefined\") {\n\t\t\treturn feature.wkb_geometry;\n\t\t}\n\n\t\tif (typeof geometry === \"undefined\") {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (geometry.type) {\n\t\t\tcase \"Point\":\n\t\t\t\tx = geometry.coordinates[0];\n\t\t\t\ty = geometry.coordinates[1];\n\t\t\t\tcoordinates = [x, y];\n\n\t\t\t\tif (this.isRdCoordinates(x, y)) {\n\t\t\t\t\tcoordinatesObj = this.rdToWgs84(x, y);\n\t\t\t\t\tcoordinates = [coordinatesObj.lon, coordinatesObj.lat];\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"Point\",\n\t\t\t\t\tcoordinates: coordinates\n\t\t\t\t};\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"MultiPoint\":\n\t\t\t\tcoordinates = geometry.coordinates.map((coordinate) => {\n\t\t\t\t\tx = coordinate[0];\n\t\t\t\t\ty = coordinate[1];\n\t\t\t\t\tcoordinates = [x, y];\n\n\t\t\t\t\tif (this.isRdCoordinates(x, y)) {\n\t\t\t\t\t\tcoordinatesObj = this.rdToWgs84(x, y);\n\t\t\t\t\t\tcoordinates = [coordinatesObj.lon, coordinatesObj.lat];\n\t\t\t\t\t\treturn coordinates;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn coordinates;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"Point\",\n\t\t\t\t\tcoordinates: coordinates[0]\n\t\t\t\t};\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"Polygon\":\n\t\t\t\tcoordinates = geometry.coordinates[0].map((coordinate) => {\n\t\t\t\t\tx = coordinate[0];\n\t\t\t\t\ty = coordinate[1];\n\t\t\t\t\tcoordinates = [x, y];\n\n\t\t\t\t\tif (this.isRdCoordinates(x, y)) {\n\t\t\t\t\t\tcoordinatesObj = this.rdToWgs84(x, y);\n\t\t\t\t\t\treturn [coordinatesObj.lat, coordinatesObj.lon];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn coordinates;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: \"Polygon\",\n\t\t\t\t\tcoordinates: [coordinates]\n\t\t\t\t};\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error(\"Not a valid geometry type\", geometry, feature);\n\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Converts json to GeoJson format\n\t *\n\t * @param object json\n\t * @returns object\n\t */\n\tjsonToGeoJSON = (json) => {\n\t\tconst data =\n\t\t\ttypeof json.result === \"object\"\n\t\t\t\t? json.result.records\n\t\t\t\t: json.features;\n\t\tif (\n\t\t\ttypeof data[0].properties !== \"undefined\" &&\n\t\t\ttypeof data[0].properties.wkb_geometry !== \"undefined\"\n\t\t) {\n\t\t\treturn json;\n\t\t}\n\n\t\treturn {\n\t\t\ttype: \"FeatureCollection\",\n\t\t\tfeatures: data.map((record) => ({\n\t\t\t\ttype: \"Feature\",\n\t\t\t\tgeometry: this.parseGeometry(record.geometry, record),\n\t\t\t\tproperties:\n\t\t\t\t\ttypeof record.properties !== \"undefined\"\n\t\t\t\t\t\t? { ...record.properties }\n\t\t\t\t\t\t: { ...record }\n\t\t\t}))\n\t\t};\n\t};\n\n\t/**\n\t * Creates a new Leaflet map.\n\t *\n\t * @returns object\n\t */\n\tcreateMap = () => {\n\t\tconst center = this.mapNode.dataset.draadCenter.split(\"/\");\n\n\t\tthis.center = [parseFloat(center[1]), parseFloat(center[2])];\n\t\tthis.zoom = parseInt(center[0]);\n\n\t\tconst map = L.map(this.mapNode.id, {\n\t\t\tdragging: !L.Browser.mobile,\n\t\t\ttap: !L.Browser.mobile,\n\t\t\tscrollWheelZoom: false\n\t\t}).setView(this.center, this.zoom);\n\n\t\t// Tile layer\n\t\tL.tileLayer(\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n\t\t\tmaxZoom: 16,\n\t\t\tattribution:\n\t\t\t\t'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n\t\t}).addTo(map);\n\n\t\t// remove zoom control\n\t\tmap.removeControl(map.zoomControl);\n\n\t\tL.control\n\t\t\t.zoom({\n\t\t\t\tposition: \"bottomleft\",\n\t\t\t\tzoomInText:\n\t\t\t\t\t'<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\"><g><path d=\"M10 4.16602V15.8327\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M4.16602 10H15.8327\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></g></svg>',\n\t\t\t\tzoomInTitle: \"Zoom in\",\n\t\t\t\tzoomOutText:\n\t\t\t\t\t'<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\"><g><path d=\"M4.16602 10H15.8327\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></g></svg>',\n\t\t\t\tzoomOutTitle: \"Zoom out\"\n\t\t\t})\n\t\t\t.addTo(map);\n\n\t\treturn map;\n\t};\n\n\t/**\n\t * Adds a marker to the map.\n\t *\n\t * @param {HTMLElement} location Turns custom infowindow into a marker.\n\t *\n\t * @returns object\n\t */\n\taddMarker = (location) => {\n\t\tconst center = location.dataset.draadCenter.split(\"/\").map(parseFloat);\n\t\tconst marker = L.marker(center, {\n\t\t\triseOnHover: true,\n\t\t\talt: location.querySelector(\".draad-card__title\")?.textContent\n\t\t});\n\n\t\tmarker._styles = {\n\t\t\tdefault:\n\t\t\t\tlocation.dataset.marker !== \"\"\n\t\t\t\t\t? this.getLeafletIcon({ iconUrl: location.dataset.marker })\n\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker.png`\n\t\t\t\t\t\t}),\n\t\t\thover:\n\t\t\t\tlocation.dataset.markerHover !== \"\"\n\t\t\t\t\t? this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl: location.dataset.markerHover\n\t\t\t\t\t\t})\n\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-hover.png`\n\t\t\t\t\t\t}),\n\t\t\tactive:\n\t\t\t\tlocation.dataset.markerActive !== \"\"\n\t\t\t\t\t? this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl: location.dataset.markerActive\n\t\t\t\t\t\t})\n\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-active.png`\n\t\t\t\t\t\t})\n\t\t};\n\n\t\tmarker.setIcon(marker._styles.default);\n\n\t\t// set aria-selected\n\t\tmarker.selected = false;\n\n\t\tmarker.locationTrap = new Draad_Focus_Trap(location);\n\n\t\tthis.markerHandler(marker, location);\n\n\t\treturn marker;\n\t};\n\n\t/**\n\t * Event handler for markers.\n\t *\n\t * @param {object} marker The marker object.\n\t * @param {HTMLElement} location The infowindow.\n\t */\n\tmarkerHandler = (marker, location = null) => {\n\t\tconst draad = this;\n\n\t\tconst close = location\n\t\t\t? location.querySelector(\".draad-card__close\")\n\t\t\t: null;\n\t\tif (close) {\n\t\t\tclose.addEventListener(\"click\", (e) => {\n\t\t\t\tmarker.locationTrap.active = false;\n\n\t\t\t\tthis.markerSetState(marker, \"default\");\n\t\t\t\tmarker.selected = false;\n\n\t\t\t\tif (marker.icon) {\n\t\t\t\t\tmarker.icon.focus();\n\t\t\t\t}\n\n\t\t\t\tlocation.classList.remove(\"draad-infowindow--active\");\n\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"true\");\n\t\t\t\tlocation.setAttribute(\"hidden\", \"\");\n\t\t\t});\n\t\t}\n\n\t\tmarker.on(\"click\", (e) => {\n\t\t\tif (\n\t\t\t\tlocation &&\n\t\t\t\tlocation.querySelector(\".draad-card__content\")?.textContent\n\t\t\t) {\n\t\t\t\t// close other infowindows\n\t\t\t\tconst locations = location\n\t\t\t\t\t.closest(\".draad-maps__wrapper\")\n\t\t\t\t\t.querySelectorAll(\".draad-card--infowindow\");\n\t\t\t\tlocations.forEach((location) => {\n\t\t\t\t\tlocation.classList.remove(\"draad-card--active\");\n\t\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"true\");\n\t\t\t\t\tlocation.setAttribute(\"hidden\", \"\");\n\t\t\t\t});\n\n\t\t\t\t// update marker of other infowindows\n\t\t\t\tthis.layers[\"locations\"].eachLayer((layer) => {\n\t\t\t\t\tif (layer.selected === true) {\n\t\t\t\t\t\tthis.markerSetState(layer, \"default\");\n\t\t\t\t\t\tlayer.selected = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (marker.selected === true) {\n\t\t\t\t\tmarker.locationTrap.active = false;\n\n\t\t\t\t\tlocation.classList.remove(\"draad-card--active\");\n\t\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"true\");\n\t\t\t\t\tlocation.setAttribute(\"hidden\", \"\");\n\n\t\t\t\t\tif (marker.icon) {\n\t\t\t\t\t\tmarker.icon.focus();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlocation.classList.add(\"draad-card--active\");\n\t\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"false\");\n\t\t\t\t\tlocation.removeAttribute(\"hidden\");\n\n\t\t\t\t\tmarker.locationTrap.active = true;\n\n\t\t\t\t\tconst close = location.querySelector(\".draad-card__close\");\n\t\t\t\t\tclose.focus();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmarker.openPopup();\n\t\t\t}\n\n\t\t\tthis.markerSetState(marker, marker.selected ? \"default\" : \"active\");\n\t\t\tmarker.selected = !marker.selected;\n\t\t});\n\n\t\tmarker.on(\"popupclose\", (e) => {\n\t\t\tthis.markerSetState(marker, \"default\");\n\t\t\tmarker.selected = false;\n\n\t\t\tif (location) {\n\t\t\t\tmarker.locationTrap.active = false;\n\n\t\t\t\tlocation.classList.remove(\"draad-card--active\");\n\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"true\");\n\t\t\t\tlocation.setAttribute(\"hidden\", \"\");\n\n\t\t\t\tif (marker.icon) {\n\t\t\t\t\tmarker.icon.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Changes the state of a marker.\n\t *\n\t * @param {object} marker The marker object.\n\t * @param {string} state The state of the marker.\n\t */\n\tmarkerSetState = (marker, state) => {\n\t\tswitch (state) {\n\t\t\tcase \"active\":\n\t\t\tcase \"focus\":\n\t\t\t\tmarker.setIcon(marker._styles.active);\n\t\t\t\tbreak;\n\n\t\t\tcase \"hover\":\n\t\t\t\tmarker.setIcon(marker._styles.hover);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tmarker.setIcon(marker._styles.default);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Adds a GeoJSON layer to the map.\n\t *\n\t * @param {object} data The GeoJSON data.\n\t * @param {HTMLElement} node The Legend item node.\n\t */\n\taddData = (data, node) => {\n\t\tconst layer = L.geoJSON(data);\n\n\t\tlayer.getLayers()?.forEach((feature) => {\n\t\t\tfeature._styles = {\n\t\t\t\tdefault:\n\t\t\t\t\ttypeof node !== \"undefined\" && node.dataset.marker !== \"\"\n\t\t\t\t\t\t? this.getLeafletIcon({ iconUrl: node.dataset.marker })\n\t\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker.png`\n\t\t\t\t\t\t\t}),\n\t\t\t\thover:\n\t\t\t\t\ttypeof node !== \"undefined\" &&\n\t\t\t\t\tnode.dataset.markerHover !== \"\"\n\t\t\t\t\t\t? this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: node.dataset.markerHover\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-hover.png`\n\t\t\t\t\t\t\t}),\n\t\t\t\tactive:\n\t\t\t\t\ttypeof node !== \"undefined\" &&\n\t\t\t\t\tnode.dataset.markerActive !== \"\"\n\t\t\t\t\t\t? this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: node.dataset.markerActive\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-active.png`\n\t\t\t\t\t\t\t})\n\t\t\t};\n\n\t\t\tfeature._style = {\n\t\t\t\tcolor:\n\t\t\t\t\ttypeof node !== \"undefined\" &&\n\t\t\t\t\tnode.dataset.shapeColor !== \"\"\n\t\t\t\t\t\t? node.dataset.shapeColor\n\t\t\t\t\t\t: this.colors.primary,\n\t\t\t\tweight:\n\t\t\t\t\ttypeof node !== \"undefined\" &&\n\t\t\t\t\tnode.dataset.shapeWidth !== \"\"\n\t\t\t\t\t\t? node.dataset.shapeWidth\n\t\t\t\t\t\t: 4,\n\t\t\t\tdashArray:\n\t\t\t\t\ttypeof node !== \"undefined\" &&\n\t\t\t\t\tnode.dataset.shapeStyle === \"solid\"\n\t\t\t\t\t\t? \"0, 0\"\n\t\t\t\t\t\t: \"8, 8\",\n\t\t\t\tfillColor:\n\t\t\t\t\ttypeof node !== \"undefined\" &&\n\t\t\t\t\tnode.dataset.shapeColor !== \"\"\n\t\t\t\t\t\t? node.dataset.shapeColor\n\t\t\t\t\t\t: this.colors.primary,\n\t\t\t\tfillOpacity: 0\n\t\t\t};\n\n\t\t\t// set popup\n\t\t\tif (feature.feature.properties.titel) {\n\t\t\t\tfeature.bindPopup(feature.feature.properties.titel);\n\t\t\t}\n\n\t\t\t// set border\n\t\t\tif (typeof feature.setStyle === \"function\") {\n\t\t\t\tfeature.setStyle(feature._style);\n\t\t\t\tfeature.options.alt = feature.feature.properties?.name;\n\t\t\t\tfeature.options.title = feature.feature.properties?.titel;\n\t\t\t\tfeature.selected = false;\n\t\t\t\tthis.dataHandler(feature);\n\t\t\t}\n\n\t\t\t// set icon\n\t\t\tif (typeof feature.setIcon === \"function\") {\n\t\t\t\tfeature.setIcon(feature._styles.default);\n\n\t\t\t\tfeature.options.alt = feature.feature.properties?.name;\n\t\t\t\tfeature.options.title = feature.feature.properties?.titel;\n\t\t\t\tfeature.selected = false;\n\t\t\t\tthis.markerHandler(feature, null);\n\t\t\t}\n\t\t});\n\n\t\treturn layer;\n\t};\n\n\t/**\n\t * Event handler for GeoJSON data.\n\t *\n\t * @param {object} feature The GeoJSON feature.\n\t */\n\tdataHandler = (feature) => {\n\t\tconst draad = this;\n\t\tfeature.on(\"click\", (e) => {\n\t\t\tthis.dataSetState(feature, \"active\");\n\t\t\tthis.map.flyToBounds(feature.getBounds(), { padding: [0, 0] });\n\t\t});\n\n\t\tfeature.on(\"popupclose\", (e) => this.dataSetState(feature, \"default\"));\n\t};\n\n\t/**\n\t * Changes the state of a GeoJSON feature.\n\t *\n\t * @param {object} feature The GeoJSON feature.\n\t * @param {string} state The state of the feature.\n\t */\n\tdataSetState = (feature, state) => {\n\t\tswitch (state) {\n\t\t\tcase \"active\":\n\t\t\t\tconst styleActive = feature._style;\n\t\t\t\tstyleActive.fillOpacity = 0.15;\n\t\t\t\tfeature.setStyle(styleActive);\n\t\t\t\tbreak;\n\t\t\tcase \"hover\":\n\t\t\t\tconst styleHover = feature._style;\n\t\t\t\tstyleHover.fillOpacity = 0.15;\n\t\t\t\tfeature.setStyle(styleHover);\n\t\t\t\tbreak;\n\t\t\tcase \"focus\":\n\t\t\t\tconst styleFocus = feature._style;\n\t\t\t\tstyleFocus.fillOpacity = 0.15;\n\t\t\t\tfeature.setStyle(styleFocus);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconst styleDefault = feature._style;\n\t\t\t\tstyleDefault.fillOpacity = 0;\n\t\t\t\tfeature.setStyle(styleDefault);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Event handler for legend\n\t */\n\tlegendHandler = () => {\n\t\tconst checkboxes = this.legendNode.querySelectorAll(\"input\");\n\t\tcheckboxes?.forEach((checkbox) => {\n\t\t\tconst dataset = checkbox.closest(\".draad-maps__dataset\");\n\t\t\tconst name = dataset.dataset.datasetName;\n\n\t\t\tcheckbox.addEventListener(\"change\", (event) => {\n\t\t\t\tif (checkbox.checked) {\n\t\t\t\t\tconst endpoint = dataset.dataset.draadGeojson;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tdocument.getElementById(\n\t\t\t\t\t\t\tdataset.dataset.draadGeojsonTarget\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst data = JSON.parse(\n\t\t\t\t\t\t\tdocument.getElementById(\n\t\t\t\t\t\t\t\tdataset.dataset.draadGeojsonTarget\n\t\t\t\t\t\t\t).text\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tlet geoJSON = null;\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof data.type === \"undefined\" ||\n\t\t\t\t\t\t\tdata.type !== \"FeatureCollection\"\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tgeoJSON = this.jsonToGeoJSON(data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tgeoJSON = this.jsonToGeoJSON(data);\n\t\t\t\t\t\t\t// geoJSON = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst geojsonLayer = this.addData(geoJSON, dataset);\n\t\t\t\t\t\tthis.layers[name] = geojsonLayer;\n\t\t\t\t\t\tthis.layers[name].addTo(this.cluster);\n\t\t\t\t\t} else if (endpoint) {\n\t\t\t\t\t\tconst checkbox = dataset.querySelector(\"input\");\n\n\t\t\t\t\t\tfetch(endpoint)\n\t\t\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\t\t\tlet geoJSON = data;\n\t\t\t\t\t\t\t\tgeoJSON = this.jsonToGeoJSON(data);\n\n\t\t\t\t\t\t\t\tconst markerSrc = dataset.dataset.draadMarker;\n\t\t\t\t\t\t\t\tconst markerActiveSrc =\n\t\t\t\t\t\t\t\t\tdataset.dataset.draadMarkerActive;\n\t\t\t\t\t\t\t\tconst geojsonLayer = this.addData(\n\t\t\t\t\t\t\t\t\tgeoJSON,\n\t\t\t\t\t\t\t\t\tdataset\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tthis.layers[name] = geojsonLayer;\n\t\t\t\t\t\t\t\tthis.layers[name].addTo(this.cluster);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.layers[name]) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.cluster.removeLayer(this.layers[name]);\n\n\t\t\t\t\t// remove search marker from layers\n\t\t\t\t\tdelete this.layers[name];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\t/**\n\t * Event handler for the search input.\n\t *\n\t * @return void\n\t */\n\tsearchHandler = () => {\n\t\tconst autocomplete = document.getElementById(\n\t\t\tthis.searchInput.getAttribute(\"list\")\n\t\t);\n\n\t\tthis.searchInput.addEventListener(\n\t\t\t\"keyup\",\n\t\t\tdebounce(() => {\n\t\t\t\t// get posible locations from nominatim api\n\t\t\t\tfetch(\n\t\t\t\t\t`https://nominatim.openstreetmap.org/search?&q=Den+Haag+${this.searchInput.value}&layer=address,manmade,poi&polygon_geojson=1&countrycodes=nl&format=json&addressdetails=1&accept-language=nl-NL&limit=10`\n\t\t\t\t)\n\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tautocomplete.innerHTML = \"\";\n\t\t\t\t\t\tdata.forEach((location) => {\n\t\t\t\t\t\t\tconst option = document.createElement(\"option\");\n\t\t\t\t\t\t\toption.value = location.display_name;\n\t\t\t\t\t\t\tautocomplete.appendChild(option);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t}, 750)\n\t\t);\n\n\t\tthis.searchSubmit.addEventListener(\"click\", (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tthis.removeSearchMarker();\n\n\t\t\t// get posible locations from nominatim api\n\t\t\tfetch(\n\t\t\t\t`https://nominatim.openstreetmap.org/search?&q=${encodeURIComponent(this.searchInput.value)}&layer=address,manmade,poi&polygon_geojson=1&countrycodes=nl&format=geojson&addressdetails=1&accept-language=nl-NL&limit=50`\n\t\t\t)\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tconst noticeNode = document.getElementById(\n\t\t\t\t\t\t\"draad-search-notice\"\n\t\t\t\t\t);\n\n\t\t\t\t\tif (noticeNode) {\n\t\t\t\t\t\tnoticeNode.innerHTML = \"\";\n\t\t\t\t\t}\n\n\t\t\t\t\tdata.features = data.features.filter((feature) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tfeature.properties.address.municipality ===\n\t\t\t\t\t\t\t\"Den Haag\"\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (data.features.length === 0) {\n\t\t\t\t\t\tif (noticeNode) {\n\t\t\t\t\t\t\tnoticeNode.innerHTML =\n\t\t\t\t\t\t\t\t\"<p>Geen resultaten gevonden</p>\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.addSearchMarker(data.features);\n\t\t\t\t})\n\t\t\t\t.then(() => this.sortLocations());\n\t\t});\n\t};\n\n\t/**\n\t * Adds a search marker to the map.\n\t *\n\t * @param {object} geojson The GeoJSON data.\n\t */\n\taddSearchMarker = (geojson) => {\n\t\t// add new layer group top map with search marker\n\t\tconst searchLayer = L.layerGroup();\n\n\t\t// add geojson layer to layer group\n\t\tsearchLayer.addLayer(\n\t\t\tL.geoJson(geojson, {\n\t\t\t\tstyle: {\n\t\t\t\t\tcolor: this.colors.accent,\n\t\t\t\t\tweight: 3,\n\t\t\t\t\tfillColor: this.colors.accent,\n\t\t\t\t\tfillOpacity: 0.3\n\t\t\t\t},\n\t\t\t\tonEachFeature: (feature, layer) => {\n\t\t\t\t\tif (typeof layer.setIcon === \"function\") {\n\t\t\t\t\t\tlayer.setIcon(\n\t\t\t\t\t\t\tthis.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-search.png`\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (typeof layer.setStyle === \"function\") {\n\t\t\t\t\t\tlayer.setStyle({\n\t\t\t\t\t\t\tcolor: this.colors.accent,\n\t\t\t\t\t\t\tweight: 4,\n\t\t\t\t\t\t\tdashArray: \"0, 0\",\n\t\t\t\t\t\t\tfillColor: this.colors.accent,\n\t\t\t\t\t\t\tfillOpacity: 0.3\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t\t// zoom to search marker\n\t\tthis.map.flyToBounds(L.geoJson(geojson).getBounds(), {\n\t\t\tpadding: [50, 50]\n\t\t});\n\n\t\tsearchLayer.addTo(this.map);\n\t\tthis.layers[\"search\"] = searchLayer;\n\t};\n\n\t/**\n\t * Removes the search marker from the map.\n\t */\n\tremoveSearchMarker = () => {\n\t\tif (!this.layers[\"search\"]) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.map.removeLayer(this.layers[\"search\"]);\n\n\t\t// remove search marker from layers\n\t\tdelete this.layers[\"search\"];\n\t};\n\n\t/**\n\t * Sorts locations by distance to search marker.\n\t */\n\tsortLocations = () => {\n\t\tconst wrapper = this.mapNode.closest(\".draad-maps__wrapper\");\n\t\tconst list = wrapper.querySelector(\".draad-grid\");\n\t\tconst locations = wrapper.querySelectorAll(\n\t\t\t\".draad-card:not(.draad-card--infowindow)\"\n\t\t);\n\n\t\tif (!this.layers[\"search\"]) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst center = this.layers[\"search\"]\n\t\t\t.getLayers()[0]\n\t\t\t.getBounds()\n\t\t\t.getCenter();\n\n\t\t// sort locations by distance to search marker\n\t\tconst sortedLocations = [...locations].sort((a, b) => {\n\t\t\tconst aCenter = a\n\t\t\t\t.getAttribute(\"data-draad-center\")\n\t\t\t\t.split(\"/\")\n\t\t\t\t.map(Number);\n\t\t\tconst bCenter = b\n\t\t\t\t.getAttribute(\"data-draad-center\")\n\t\t\t\t.split(\"/\")\n\t\t\t\t.map(Number);\n\n\t\t\tconst aDistance = this.map.distance(center, aCenter);\n\t\t\tconst bDistance = this.map.distance(center, bCenter);\n\n\t\t\treturn aDistance - bDistance;\n\t\t});\n\n\t\t// remove all locations from dom\n\t\tlist.innerHTML = \"\";\n\n\t\t// add sorted locations to dom\n\t\tsortedLocations.forEach((location) => list.appendChild(location));\n\t};\n}\n\n/**\n * Limits the number of times the callback can be called.\n *\n * @param {function} callback The function to debounce.\n * @param {number} wait The time to wait.\n */\nfunction debounce(callback, wait) {\n\tlet timeout;\n\treturn (...args) => {\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(() => {\n\t\t\tcallback.apply(this, args);\n\t\t}, wait);\n\t};\n}\n"],
  "mappings": "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",
  "names": ["Draad_Focus_Trap", "node", "value", "focusableElements", "element", "visibleFocusableElements", "event", "focusTrap_default", "draad", "mapEvent", "draadMapsInit", "node", "map", "Draad_Map", "documentComputedStyles", "cluster", "childCount", "c", "size", "locations", "locationsLayer", "minHeight", "location", "height", "baseFontSize", "e", "elem", "evt", "error", "err", "options", "success", "pos", "crd", "userLocation", "datasetNodes", "endpoint", "name", "data", "geoJSON", "geojsonLayer", "checkbox", "response", "search", "instructions", "config", "x", "y", "x0", "y0", "f0", "l0", "a01", "b10", "a20", "b11", "a02", "b12", "a21", "b30", "a03", "b31", "a22", "b13", "a40", "b32", "a23", "b14", "a41", "b50", "a04", "b33", "a42", "b51", "a24", "b15", "dx", "dy", "df", "f", "dl", "l", "fWgs", "lWgs", "geometry", "feature", "coordinates", "coordinatesObj", "coordinate", "json", "record", "center", "marker", "focusTrap_default", "close", "layer", "state", "styleActive", "styleHover", "styleFocus", "styleDefault", "dataset", "event", "markerSrc", "markerActiveSrc", "autocomplete", "debounce", "option", "noticeNode", "geojson", "searchLayer", "wrapper", "list", "sortedLocations", "a", "b", "aCenter", "bCenter", "aDistance", "bDistance", "callback", "wait", "timeout", "args"]
}
