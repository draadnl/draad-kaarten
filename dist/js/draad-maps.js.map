{
  "version": 3,
  "sources": ["../../src/js/focusTrap.js", "../../src/js/draad-maps.js"],
  "sourcesContent": ["`use strict`;\n\nclass Draad_Focus_Trap {\n\n\t/**\n\t * Constructor\n\t * \n\t * @param {HTMLElement} node HTML element to trap focus in\n\t */\n\tconstructor(node) {\n\n\t\tthis.rootEl = node;\n\n\t}\n\n\trootEl = null;\n\n\t_active = false;\n\n\tfirstFocusableElement = null;\n\n\tlastFocusableElement = null;\n\n\tget active() {\n\t\treturn this._active;\n\t}\n\n\tset active(value) {\n\n\t\tif (typeof value !== 'boolean') {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._active = value;\n\n\t\tif (this._active) {\n\t\t\tthis.activate();\n\t\t} else {\n\t\t\tthis.deactivate();\n\t\t}\n\n\t}\n\n\t/**\n\t * Activate focus trap\n\t */\n\tactivate() {\n\n\t\tif (!this._active) {\n\t\t\treturn;\n\t\t}\n\n\t\t// get all focusable children\n\t\tconst focusableElements = Array.from(this.rootEl.querySelectorAll('a[href], button, textarea, input, select, summary, [tabindex]'));\n\t\t// filter out elements with tabindex=\"-1\"\n\t\tfocusableElements.filter((element) => element.getAttribute('tabindex') !== '-1');\n\n\t\tif (focusableElements.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t// filter out elements that are not visible\n\t\tconst visibleFocusableElements = focusableElements.filter((element) => element.offsetParent !== null);\n\n\t\tthis.firstFocusableElement = visibleFocusableElements[0];\n\n\t\tthis.lastFocusableElement = visibleFocusableElements[visibleFocusableElements.length - 1];\n\n\t\tthis.rootEl.addEventListener('keydown', (event) => {\n\n\t\t\tif (event.key !== 'Tab') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!event.shiftKey && document.activeElement === this.lastFocusableElement) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.firstFocusableElement.focus();\n\t\t\t} else if (event.shiftKey && document.activeElement === this.firstFocusableElement) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.lastFocusableElement.focus();\n\t\t\t}\n\n\t\t});\n\n\t}\n\n\t/**\n\t * Deactivate focus trap\n\t */\n\tdeactivate() {\n\n\t\tthis.rootEl.removeEventListener('keydown', () => { });\n\n\t\tthis.firstFocusableElement = null;\n\n\t\tthis.lastFocusableElement = null;\n\n\t}\n\n}\n\nexport default Draad_Focus_Trap;", "import Draad_Focus_Trap from \"./focusTrap.js\";\n\n`use strict`;\n\nconst draad = {};\nconst mapEvent = new Event(\"draadMapsLoaded\");\n\n/**\n * Initialize maps\n */\nfunction draadMapsInit() {\n\tdraad.maps = [];\n\tconst nodes = document.querySelectorAll(\".draad-maps\");\n\tnodes.forEach((node) => {\n\t\t// initialize map\n\t\tconst map = new Draad_Map(node);\n\n\t\t// save map to draad.maps\n\t\tdraad.maps.push(map);\n\n\t\tdocument.dispatchEvent(mapEvent);\n\t});\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", draadMapsInit);\n\nclass Draad_Map {\n\n\tnode = null;\n\n\tmap = null;\n\n\tcenter = null;\n\n\tzoom = null;\n\n\touterWrapper = null;\n\n\tlayers = [];\n\n\tcolors = {};\n\n\t/**\n\t *  Constructor\n\t *\n\t * @param {HTMLElement} node The HTML element that contains the map.\n\t */\n\tconstructor(node) {\n\t\t\n\t\tif (!node) {\n\t\t\tthrow new Error(\"Draad Maps: No map node provided.\");\n\t\t}\n\n\t\tthis.mapNode = node;\n\t\tthis.outerWrapper = node.closest(\".draad-maps__wrapper\");\n\t\tthis.map = this.createMap();\n\n\t\tconst documentComputedStyles = getComputedStyle(document.documentElement);\n\t\tthis.colors = {\n\t\t\tprimary:\n\t\t\t\tdocumentComputedStyles.getPropertyValue(\"--dk__clr-primary\") ||\n\t\t\t\t\"#248641\",\n\t\t\tsecondary:\n\t\t\t\tdocumentComputedStyles.getPropertyValue(\n\t\t\t\t\t\"--dk__clr-secondary\"\n\t\t\t\t) || \"#7D6200\",\n\t\t\taccent:\n\t\t\t\tdocumentComputedStyles.getPropertyValue(\"--dk__clr-accent\") ||\n\t\t\t\t\"#1261A3\",\n\t\t};\n\n\t\t/**\n\t\t * Add clusters\n\t\t */\n\t\tthis.cluster = L.markerClusterGroup({\n\t\t\tshowCoverageOnHover: false,\n\t\t\ticonCreateFunction: (cluster) => {\n\t\t\t\tconst childCount = cluster.getChildCount();\n\t\t\t\tlet c = \" marker-cluster-\";\n\t\t\t\tif (childCount < 10) {\n\t\t\t\t\tc += \"small\";\n\t\t\t\t} else if (childCount < 100) {\n\t\t\t\t\tc += \"medium\";\n\t\t\t\t} else {\n\t\t\t\t\tc += \"large\";\n\t\t\t\t}\n\n\t\t\t\treturn new L.DivIcon({\n\t\t\t\t\thtml:\n\t\t\t\t\t\t\"<div><span>\" +\n\t\t\t\t\t\tchildCount +\n\t\t\t\t\t\t' <span aria-label=\"markers\"></span>' +\n\t\t\t\t\t\t\"</span></div>\",\n\t\t\t\t\tclassName: \"marker-cluster\" + c,\n\t\t\t\t\ticonSize: new L.Point(40, 40),\n\t\t\t\t});\n\t\t\t},\n\t\t});\n\n\t\t/** \n\t\t * Manually created markers\n\t\t */\n\t\tconst locations = this.outerWrapper.querySelectorAll('.draad-card--infowindow');\n\t\tconst locationsLayer = L.layerGroup();\n\t\tlet minHeight = 0;\n\t\tlocations?.forEach((location) => {\n\t\t\tconst height = location.offsetHeight;\n\t\t\tif (height > minHeight) {\n\t\t\t\tminHeight = height;\n\t\t\t}\n\n\t\t\tconst marker = this.addMarker(location);\n\t\t\tmarker.addTo(locationsLayer);\n\t\t});\n\t\tthis.layers[\"locations\"] = locationsLayer;\n\t\tthis.layers[\"locations\"].addTo(this.cluster);\n\t\t\n\t\tconst baseFontSize = parseInt(\n\t\t\tgetComputedStyle(document.documentElement).fontSize\n\t\t);\n\t\tnode.style.minHeight = minHeight / baseFontSize + 3 + \"rem\";\n\n\t\t/**\n\t\t * Add support to open infowindows with enter key\n\t\t */\n\t\tthis.outerWrapper.addEventListener(\"keypress\", (e) => {\n\t\t\tif (e.key === \"Enter\") {\n\t\t\t\tconst simulateClick = (elem) => {\n\t\t\t\t\t// Create our event (with options)\n\t\t\t\t\tconst evt = new MouseEvent(\"click\", {\n\t\t\t\t\t\tbubbles: true,\n\t\t\t\t\t\tcancelable: true,\n\t\t\t\t\t\tview: window,\n\t\t\t\t\t});\n\t\t\t\t\t// If cancelled, don't dispatch our event\n\t\t\t\t\tconst canceled = !elem.dispatchEvent(evt);\n\t\t\t\t};\n\n\t\t\t\tsimulateClick(e.target);\n\t\t\t}\n\t\t});\n\n\t\t/**\n\t\t * Show current GPS location of user\n\t\t */\n\t\tif (document.getElementById(node.id + \"-gps\")) {\n\t\t\tconst options = {\n\t\t\t\tenableHighAccuracy: true,\n\t\t\t\ttimeout: 5000,\n\t\t\t\tmaximumAge: 0,\n\t\t\t};\n\n\t\t\tvar success = (pos) => {\n\t\t\t\tconst crd = pos.coords;\n\t\t\t\tconst userLocation = L.layerGroup();\n\t\t\t\tconst marker = L.marker(\n\t\t\t\t\t[parseFloat(crd.latitude), parseFloat(crd.longitude)],\n\t\t\t\t\t{\n\t\t\t\t\t\ticon: this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl:\n\t\t\t\t\t\t\t\t\"/wp-content/plugins/draad-kaarten/dist/images/marker-gps.png\",\n\t\t\t\t\t\t\ticonSize: [48, 48],\n\t\t\t\t\t\t\ticonAnchor: [24, 24],\n\t\t\t\t\t\t}),\n\t\t\t\t\t\triseOnHover: false,\n\t\t\t\t\t\talt: \"Your location\",\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tmarker.addTo(userLocation);\n\n\t\t\t\tthis.layers[\"userLocation\"] = userLocation;\n\t\t\t\tthis.layers[\"userLocation\"].addTo(this.cluster);\n\t\t\t};\n\n\t\t\tfunction error(err) {\n\t\t\t\tconsole.warn(`ERROR(${err.code}): ${err.message}`);\n\t\t\t}\n\n\t\t\tnavigator.geolocation.getCurrentPosition(success, error, options);\n\t\t}\n\n\t\tconst datasetNodes = document.querySelectorAll(\".draad-maps__dataset\");\n\t\tif (datasetNodes.length) {\n\t\t\tdatasetNodes.forEach((node) => {\n\t\t\t\tconst endpoint = node.dataset.draadGeojson;\n\t\t\t\tconst name = node.dataset.datasetName;\n\n\t\t\t\tif (document.getElementById(node.dataset.draadGeojsonTarget)) {\n\t\t\t\t\tconst data = JSON.parse(\n\t\t\t\t\t\tdocument.getElementById(node.dataset.draadGeojsonTarget)\n\t\t\t\t\t\t\t.text\n\t\t\t\t\t);\n\n\t\t\t\t\tlet geoJSON = null;\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof data.type === \"undefined\" ||\n\t\t\t\t\t\tdata.type !== \"FeatureCollection\"\n\t\t\t\t\t) {\n\t\t\t\t\t\tgeoJSON = this.jsonToGeoJSON(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgeoJSON = data;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geojsonLayer = this.addData(geoJSON, node);\n\t\t\t\t\tthis.layers[name] = geojsonLayer;\n\t\t\t\t\tthis.layers[name].addTo(this.cluster);\n\t\t\t\t} else if (endpoint) {\n\t\t\t\t\tconst checkbox = node.querySelector(\"input\");\n\n\t\t\t\t\tfetch(endpoint)\n\t\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\t\tlet geoJSON = null;\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\ttypeof data.type === \"undefined\" ||\n\t\t\t\t\t\t\t\tdata.type !== \"FeatureCollection\"\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tgeoJSON = this.jsonToGeoJSON(data);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tgeoJSON = data;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst markerSrc = node.dataset.draadMarker;\n\t\t\t\t\t\t\tconst markerActiveSrc =\n\t\t\t\t\t\t\t\tnode.dataset.draadMarkerActive;\n\t\t\t\t\t\t\tconst geojsonLayer = this.addData(geoJSON, node);\n\t\t\t\t\t\t\tthis.layers[name] = geojsonLayer;\n\t\t\t\t\t\t\tthis.layers[name].addTo(this.cluster);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.legendNode = this.outerWrapper.querySelector(\n\t\t\t\t\".draad-maps__legend\"\n\t\t\t);\n\t\t\tif (this.legendNode) {\n\t\t\t\tthis.legendHandler();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Add clusters to map\n\t\t */\n\t\tthis.map.addLayer(this.cluster);\n\n\t\t/**\n\t\t * Add search\n\t\t */\n\t\tconst search = this.outerWrapper.querySelector(\".draad-search\");\n\t\tif (search) {\n\t\t\tthis.searchInput = search.querySelector(\".draad-search__input\");\n\t\t\tthis.searchSubmit = search.querySelector(\".draad-search__submit\");\n\t\t\tthis.searchHandler();\n\t\t}\n\n\t\t/**\n\t\t * Remove touch instructions ofter interaction\n\t\t */\n\t\tconst instructions = this.outerWrapper.querySelector('.draad-maps__instructions');\n\t\tif (instructions) {\n\t\t\tinstructions.addEventListener(\"click\", () => instructions.remove());\n\t\t\tinstructions.addEventListener(\"touchstart\", () =>\n\t\t\t\tinstructions.remove()\n\t\t\t);\n\t\t}\n\n\t}\n\n\t/**\n\t * Returns default marker styles\n\t * \n\t * @param object config \n\t * @returns object\n\t */\n\tgetLeafletIcon = (config) =>\n\t\tL.icon({\n\t\t\ticonUrl: \"\",\n\t\t\ticonSize: [39.2, 51.2],\n\t\t\ticonAnchor: [19.6, 51.2],\n\t\t\tpopupAnchor: [-3, -76],\n\t\t\t...config,\n\t\t});\n\t\n\t/**\n\t * Converts json to GeoJson format\n\t * \n\t * @param object json \n\t * @returns object\n\t */\n\tjsonToGeoJSON = (json) => {\n\t\tconst geoJson = {\n\t\t\ttype: \"FeatureCollection\",\n\t\t\tfeatures: json.result.records.map((record) => ({\n\t\t\t\ttype: \"Feature\",\n\t\t\t\tgeometry: record.wkb_geometry,\n\t\t\t\tproperties: { ...record },\n\t\t\t})),\n\t\t};\n\n\t\treturn geoJson;\n\t};\n\n\t/**\n\t * Creates a new Leaflet map.\n\t * \n\t * @returns object\n\t */\n\tcreateMap = () => {\n\t\tconst center = this.mapNode.dataset.draadCenter.split(\"/\");\n\n\t\tthis.center = [parseFloat(center[1]), parseFloat(center[2])];\n\t\tthis.zoom = parseInt(center[0]);\n\n\t\tconst map = L.map(this.mapNode.id, {\n\t\t\tdragging: !L.Browser.mobile,\n\t\t\ttap: !L.Browser.mobile,\n\t\t\tscrollWheelZoom: false,\n\t\t}).setView(this.center, this.zoom);\n\n\t\t// Tile layer\n\t\tL.tileLayer(\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n\t\t\tmaxZoom: 16,\n\t\t\tattribution:\n\t\t\t\t'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n\t\t}).addTo(map);\n\n\t\t// remove zoom control\n\t\tmap.removeControl(map.zoomControl);\n\n\t\tL.control\n\t\t\t.zoom({\n\t\t\t\tposition: \"bottomleft\",\n\t\t\t\tzoomInText:\n\t\t\t\t\t'<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\"><g><path d=\"M10 4.16602V15.8327\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M4.16602 10H15.8327\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></g></svg>',\n\t\t\t\tzoomInTitle: \"Zoom in\",\n\t\t\t\tzoomOutText:\n\t\t\t\t\t'<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\"><g><path d=\"M4.16602 10H15.8327\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></g></svg>',\n\t\t\t\tzoomOutTitle: \"Zoom out\",\n\t\t\t})\n\t\t\t.addTo(map);\n\n\t\treturn map;\n\t};\n\n\t/**\n\t * Adds a marker to the map.\n\t *\n\t * @param {HTMLElement} location Turns custom infowindow into a marker.\n\t * \n\t * @returns object\n\t */\n\taddMarker = (location) => {\n\t\tconst center = location.dataset.draadCenter.split(\"/\").map(parseFloat);\n\t\tconst marker = L.marker(center, {\n\t\t\triseOnHover: true,\n\t\t\talt: location.querySelector(\".draad-card__title\")?.textContent,\n\t\t});\n\n\t\tmarker._styles = {\n\t\t\tdefault:\n\t\t\t\tlocation.dataset.marker !== \"\"\n\t\t\t\t\t? this.getLeafletIcon({ iconUrl: location.dataset.marker })\n\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl:\n\t\t\t\t\t\t\t\t\"/wp-content/plugins/draad-kaarten/dist/images/marker.png\",\n\t\t\t\t\t  }),\n\t\t\thover:\n\t\t\t\tlocation.dataset.markerHover !== \"\"\n\t\t\t\t\t? this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl: location.dataset.markerHover,\n\t\t\t\t\t  })\n\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl:\n\t\t\t\t\t\t\t\t\"/wp-content/plugins/draad-kaarten/dist/images/marker-hover.png\",\n\t\t\t\t\t  }),\n\t\t\tactive:\n\t\t\t\tlocation.dataset.markerActive !== \"\"\n\t\t\t\t\t? this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl: location.dataset.markerActive,\n\t\t\t\t\t  })\n\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl:\n\t\t\t\t\t\t\t\t\"/wp-content/plugins/draad-kaarten/dist/images/marker-active.png\",\n\t\t\t\t\t  }),\n\t\t};\n\n\t\tmarker.setIcon(marker._styles.default);\n\n\t\t// set aria-selected\n\t\tmarker.selected = false;\n\n\t\tmarker.locationTrap = new Draad_Focus_Trap(location);\n\n\t\tthis.markerHandler(marker, location);\n\n\t\treturn marker;\n\t};\n\n\t/**\n\t * Event handler for markers.\n\t *\n\t * @param {object} marker The marker object.\n\t * @param {HTMLElement} location The infowindow.\n\t */\n\tmarkerHandler = (\n\t\tmarker,\n\t\tlocation = null\n\t) => {\n\t\tconst draad = this;\n\n\t\tconst close = location\n\t\t\t? location.querySelector(\".draad-card__close\")\n\t\t\t: null;\n\t\tif (close) {\n\t\t\tclose.addEventListener(\"click\", (e) => {\n\t\t\t\tmarker.locationTrap.active = false;\n\n\t\t\t\tthis.markerSetState(\n\t\t\t\t\tmarker,\n\t\t\t\t\t\"default\"\n\t\t\t\t);\n\t\t\t\tmarker.selected = false;\n\n\t\t\t\tif (marker.icon) {\n\t\t\t\t\tmarker.icon.focus();\n\t\t\t\t}\n\n\t\t\t\tlocation.classList.remove(\"draad-infowindow--active\");\n\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"true\");\n\t\t\t\tlocation.setAttribute(\"hidden\", \"\");\n\t\t\t});\n\t\t}\n\n\t\tmarker.on(\"click\", (e) => {\n\t\t\tif (\n\t\t\t\tlocation &&\n\t\t\t\tlocation.querySelector(\".draad-card__content\")?.textContent\n\t\t\t) {\n\t\t\t\t// close other infowindows\n\t\t\t\tconst locations = location\n\t\t\t\t\t.closest(\".draad-maps__wrapper\")\n\t\t\t\t\t.querySelectorAll(\".draad-card--infowindow\");\n\t\t\t\tlocations.forEach((location) => {\n\t\t\t\t\tlocation.classList.remove(\"draad-card--active\");\n\t\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"true\");\n\t\t\t\t\tlocation.setAttribute(\"hidden\", \"\");\n\t\t\t\t});\n\n\t\t\t\t// update marker of other infowindows\n\t\t\t\tthis.layers[\"locations\"].eachLayer((layer) => {\n\t\t\t\t\tif (layer.selected === true) {\n\t\t\t\t\t\tthis.markerSetState(layer, \"default\");\n\t\t\t\t\t\tlayer.selected = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (marker.selected === true) {\n\t\t\t\t\tmarker.locationTrap.active = false;\n\n\t\t\t\t\tlocation.classList.remove(\"draad-card--active\");\n\t\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"true\");\n\t\t\t\t\tlocation.setAttribute(\"hidden\", \"\");\n\n\t\t\t\t\tif (marker.icon) {\n\t\t\t\t\t\tmarker.icon.focus();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlocation.classList.add(\"draad-card--active\");\n\t\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"false\");\n\t\t\t\t\tlocation.removeAttribute(\"hidden\");\n\n\t\t\t\t\tmarker.locationTrap.active = true;\n\n\t\t\t\t\tconst close = location.querySelector(\".draad-card__close\");\n\t\t\t\t\tclose.focus();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmarker.openPopup();\n\t\t\t}\n\n\t\t\tthis.markerSetState(\n\t\t\t\tmarker,\n\t\t\t\tmarker.selected ? \"default\" : \"active\"\n\t\t\t);\n\t\t\tmarker.selected = !marker.selected;\n\t\t});\n\n\t\tmarker.on(\"popupclose\", (e) => {\n\t\t\tthis.markerSetState(marker, \"default\");\n\t\t\tmarker.selected = false;\n\n\t\t\tif (location) {\n\t\t\t\tmarker.locationTrap.active = false;\n\n\t\t\t\tlocation.classList.remove(\"draad-card--active\");\n\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"true\");\n\t\t\t\tlocation.setAttribute(\"hidden\", \"\");\n\n\t\t\t\tif (marker.icon) {\n\t\t\t\t\tmarker.icon.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Changes the state of a marker.\n\t *\n\t * @param {object} marker The marker object.\n\t * @param {string} state The state of the marker.\n\t */\n\tmarkerSetState = (\n\t\tmarker,\n\t\tstate,\n\t) => {\n\t\tswitch (state) {\n\t\t\tcase \"default\":\n\t\t\t\tmarker.setIcon(marker._styles.default);\n\t\t\t\tbreak;\n\n\t\t\tcase \"active\":\n\t\t\t\tmarker.setIcon(marker._styles.active);\n\t\t\t\tbreak;\n\n\t\t\tcase \"hover\":\n\t\t\t\tmarker.setIcon(marker._styles.hover);\n\t\t\t\tbreak;\n\n\t\t\tcase \"focus\":\n\t\t\t\tmarker.setIcon(marker._styles.active);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Adds a GeoJSON layer to the map.\n\t *\n\t * @param {object} data The GeoJSON data.\n\t * @param {HTMLElement} node The Legend item node.\n\t */\n\taddData = (data, node) => {\n\t\tconst layer = L.geoJSON(data);\n\t\tlayer.getLayers()?.forEach((feature) => {\n\t\t\tfeature._styles = {\n\t\t\t\tdefault:\n\t\t\t\t\ttypeof node !== \"undefined\" && node.dataset.marker !== \"\"\n\t\t\t\t\t\t? this.getLeafletIcon({ iconUrl: node.dataset.marker })\n\t\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl:\n\t\t\t\t\t\t\t\t\t\"/wp-content/plugins/draad-kaarten/dist/images/marker.png\",\n\t\t\t\t\t\t  }),\n\t\t\t\thover:\n\t\t\t\t\ttypeof node !== \"undefined\" &&\n\t\t\t\t\tnode.dataset.markerHover !== \"\"\n\t\t\t\t\t\t? this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: node.dataset.markerHover,\n\t\t\t\t\t\t  })\n\t\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl:\n\t\t\t\t\t\t\t\t\t\"/wp-content/plugins/draad-kaarten/dist/images/marker-hover.png\",\n\t\t\t\t\t\t  }),\n\t\t\t\tactive:\n\t\t\t\t\ttypeof node !== \"undefined\" &&\n\t\t\t\t\tnode.dataset.markerActive !== \"\"\n\t\t\t\t\t\t? this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: node.dataset.markerActive,\n\t\t\t\t\t\t  })\n\t\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl:\n\t\t\t\t\t\t\t\t\t\"/wp-content/plugins/draad-kaarten/dist/images/marker-active.png\",\n\t\t\t\t\t\t  }),\n\t\t\t};\n\n\t\t\tfeature._style = {\n\t\t\t\tcolor:\n\t\t\t\t\ttypeof node !== \"undefined\" &&\n\t\t\t\t\tnode.dataset.shapeColor !== \"\"\n\t\t\t\t\t\t? node.dataset.shapeColor\n\t\t\t\t\t\t: this.colors.primary,\n\t\t\t\tweight:\n\t\t\t\t\ttypeof node !== \"undefined\" &&\n\t\t\t\t\tnode.dataset.shapeWidth !== \"\"\n\t\t\t\t\t\t? node.dataset.shapeWidth\n\t\t\t\t\t\t: 4,\n\t\t\t\tdashArray:\n\t\t\t\t\ttypeof node !== \"undefined\" &&\n\t\t\t\t\tnode.dataset.shapeStyle === \"solid\"\n\t\t\t\t\t\t? \"0, 0\"\n\t\t\t\t\t\t: \"8, 8\",\n\t\t\t\tfillColor:\n\t\t\t\t\ttypeof node !== \"undefined\" &&\n\t\t\t\t\tnode.dataset.shapeColor !== \"\"\n\t\t\t\t\t\t? node.dataset.shapeColor\n\t\t\t\t\t\t: this.colors.primary,\n\t\t\t\tfillOpacity: 0,\n\t\t\t};\n\n\t\t\t// set popup\n\t\t\tif (feature.feature.properties.titel) {\n\t\t\t\tfeature.bindPopup(feature.feature.properties.titel);\n\t\t\t}\n\n\t\t\t// set border\n\t\t\tif (typeof feature.setStyle === \"function\") {\n\t\t\t\tfeature.setStyle(feature._style);\n\t\t\t\tfeature.options.alt = feature.feature.properties?.name;\n\t\t\t\tfeature.options.title = feature.feature.properties?.title;\n\t\t\t\tfeature.selected = false;\n\t\t\t\tthis.dataHandler(feature);\n\t\t\t}\n\n\t\t\t// set icon\n\t\t\tif (typeof feature.setIcon === \"function\") {\n\t\t\t\tfeature.setIcon(feature._styles.default);\n\n\t\t\t\tfeature.options.alt = feature.feature.properties?.name;\n\t\t\t\tfeature.options.title = feature.feature.properties?.titel;\n\t\t\t\tfeature.selected = false;\n\t\t\t\tthis.markerHandler(feature, null);\n\t\t\t}\n\t\t});\n\n\t\treturn layer;\n\t};\n\n\t/**\n\t * Event handler for GeoJSON data.\n\t *\n\t * @param {object} feature The GeoJSON feature.\n\t */\n\tdataHandler = (feature) => {\n\t\tconst draad = this;\n\t\tfeature.on(\"click\", (e) => {\n\t\t\tthis.dataSetState(feature, \"active\");\n\t\t\tthis.map.flyToBounds(feature.getBounds(), { padding: [0, 0] });\n\t\t});\n\n\t\tfeature.on(\"popupclose\", (e) => this.dataSetState(feature, \"default\"));\n\t};\n\n\t/**\n\t * Changes the state of a GeoJSON feature.\n\t *\n\t * @param {object} feature The GeoJSON feature.\n\t * @param {string} state The state of the feature.\n\t */\n\tdataSetState = (feature, state) => {\n\t\tswitch (state) {\n\t\t\tcase \"default\":\n\t\t\t\tconst styleDefault = feature._style;\n\t\t\t\tstyleDefault.fillOpacity = 0;\n\t\t\t\tfeature.setStyle(styleDefault);\n\t\t\t\tbreak;\n\t\t\tcase \"active\":\n\t\t\t\tconst styleActive = feature._style;\n\t\t\t\tstyleActive.fillOpacity = 0.15;\n\t\t\t\tfeature.setStyle(styleActive);\n\t\t\t\tbreak;\n\t\t\tcase \"hover\":\n\t\t\t\tconst styleHover = feature._style;\n\t\t\t\tstyleHover.fillOpacity = 0.15;\n\t\t\t\tfeature.setStyle(styleHover);\n\t\t\t\tbreak;\n\t\t\tcase \"focus\":\n\t\t\t\tconst styleFocus = feature._style;\n\t\t\t\tstyleFocus.fillOpacity = 0.15;\n\t\t\t\tfeature.setStyle(styleFocus);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Event handler for legend\n\t */\n\tlegendHandler = () => {\n\t\tconst checkboxes = this.legendNode.querySelectorAll(\"input\");\n\t\tcheckboxes?.forEach((checkbox) => {\n\t\t\tconst dataset = checkbox.closest(\".draad-maps__dataset\");\n\t\t\tconst name = dataset.dataset.datasetName;\n\n\t\t\tcheckbox.addEventListener(\"change\", (event) => {\n\t\t\t\tif (checkbox.checked) {\n\t\t\t\t\tconst endpoint = dataset.dataset.draadGeojson;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tdocument.getElementById(\n\t\t\t\t\t\t\tdataset.dataset.draadGeojsonTarget\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst data = JSON.parse(\n\t\t\t\t\t\t\tdocument.getElementById(\n\t\t\t\t\t\t\t\tdataset.dataset.draadGeojsonTarget\n\t\t\t\t\t\t\t).text\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tlet geoJSON = null;\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof data.type === \"undefined\" ||\n\t\t\t\t\t\t\tdata.type !== \"FeatureCollection\"\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tgeoJSON = this.jsonToGeoJSON(data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tgeoJSON = data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst geojsonLayer = this.addData(geoJSON, dataset);\n\t\t\t\t\t\tthis.layers[name] = geojsonLayer;\n\t\t\t\t\t\tthis.layers[name].addTo(this.cluster);\n\t\t\t\t\t} else if (endpoint) {\n\t\t\t\t\t\tconst checkbox = dataset.querySelector(\"input\");\n\n\t\t\t\t\t\tfetch(endpoint)\n\t\t\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\t\t\tlet geoJSON = null;\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\ttypeof data.type === \"undefined\" ||\n\t\t\t\t\t\t\t\t\tdata.type !== \"FeatureCollection\"\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tgeoJSON = this.jsonToGeoJSON(data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tgeoJSON = data;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst markerSrc = dataset.dataset.draadMarker;\n\t\t\t\t\t\t\t\tconst markerActiveSrc =\n\t\t\t\t\t\t\t\t\tdataset.dataset.draadMarkerActive;\n\t\t\t\t\t\t\t\tconst geojsonLayer = this.addData(\n\t\t\t\t\t\t\t\t\tgeoJSON,\n\t\t\t\t\t\t\t\t\tdataset\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tthis.layers[name] = geojsonLayer;\n\t\t\t\t\t\t\t\tthis.layers[name].addTo(this.cluster);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.layers[name]) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.cluster.removeLayer(this.layers[name]);\n\n\t\t\t\t\t// remove search marker from layers\n\t\t\t\t\tdelete this.layers[name];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\t/**\n\t * Event handler for the search input.\n\t * \n\t * @return void\n\t */\n\tsearchHandler = () => {\n\t\tconst autocomplete = document.getElementById(\n\t\t\tthis.searchInput.getAttribute(\"list\")\n\t\t);\n\n\t\tthis.searchInput.addEventListener(\n\t\t\t\"keyup\",\n\t\t\tdebounce(() => {\n\t\t\t\t// get posible locations from nominatim api\n\t\t\t\tfetch(\n\t\t\t\t\t`https://nominatim.openstreetmap.org/search?&q=Den+Haag+${this.searchInput.value}&layer=address,manmade,poi&polygon_geojson=1&countrycodes=nl&format=json&addressdetails=1&limit=10`\n\t\t\t\t)\n\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tautocomplete.innerHTML = \"\";\n\t\t\t\t\t\tdata.forEach((location) => {\n\t\t\t\t\t\t\tconst option = document.createElement(\"option\");\n\t\t\t\t\t\t\toption.value = location.display_name;\n\t\t\t\t\t\t\tautocomplete.appendChild(option);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t}, 750)\n\t\t);\n\n\t\tthis.searchSubmit.addEventListener(\"click\", (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tthis.removeSearchMarker();\n\n\t\t\t// get posible locations from nominatim api\n\t\t\tfetch(\n\t\t\t\t`https://nominatim.openstreetmap.org/search?&q=Den+Haag+${this.searchInput.value}&layer=address,manmade,poi&polygon_geojson=1&countrycodes=nl&format=geojson&addressdetails=1&limit=1`\n\t\t\t)\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tif (data.features.length === 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.addSearchMarker(data);\n\t\t\t\t})\n\t\t\t\t.then(() => this.sortLocations());\n\t\t});\n\t};\n\n\t/**\n\t * Adds a search marker to the map.\n\t *\n\t * @param {object} geojson The GeoJSON data.\n\t */\n\taddSearchMarker = (geojson) => {\n\t\t// add new layer group top map with search marker\n\t\tconst searchLayer = L.layerGroup();\n\n\t\t// add geojson layer to layer group\n\t\tsearchLayer.addLayer(\n\t\t\tL.geoJson(geojson, {\n\t\t\t\tstyle: {\n\t\t\t\t\tcolor: this.colors.accent,\n\t\t\t\t\tweight: 3,\n\t\t\t\t\tfillColor: this.colors.accent,\n\t\t\t\t\tfillOpacity: 0.3,\n\t\t\t\t},\n\t\t\t\tonEachFeature: (feature, layer) => {\n\t\t\t\t\tif (typeof layer.setIcon === \"function\") {\n\t\t\t\t\t\tlayer.setIcon(\n\t\t\t\t\t\t\tthis.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl:\n\t\t\t\t\t\t\t\t\t\"/wp-content/plugins/draad-kaarten/dist/images/marker-search.png\",\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (typeof layer.setStyle === \"function\") {\n\t\t\t\t\t\tlayer.setStyle(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcolor: this.colors.accent,\n\t\t\t\t\t\t\t\tweight: 4,\n\t\t\t\t\t\t\t\tdashArray: \"0, 0\",\n\t\t\t\t\t\t\t\tfillColor: this.colors.accent,\n\t\t\t\t\t\t\t\tfillOpacity: 0.3,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t})\n\t\t);\n\t\t// zoom to search marker\n\t\tthis.map.flyToBounds(L.geoJson(geojson).getBounds(), {\n\t\t\tpadding: [50, 50],\n\t\t});\n\n\t\tsearchLayer.addTo(this.map);\n\t\tthis.layers[\"search\"] = searchLayer;\n\t};\n\n\t/**\n\t * Removes the search marker from the map.\n\t */\n\tremoveSearchMarker = () => {\n\t\tif (!this.layers[\"search\"]) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.map.removeLayer(this.layers[\"search\"]);\n\n\t\t// remove search marker from layers\n\t\tdelete this.layers[\"search\"];\n\t};\n\n\t/**\n\t * Sorts locations by distance to search marker.\n\t */\n\tsortLocations = () => {\n\t\tconst wrapper = this.mapNode.closest(\".draad-maps__wrapper\");\n\t\tconst list = wrapper.querySelector(\".draad-grid\");\n\t\tconst locations = wrapper.querySelectorAll(\n\t\t\t\".draad-card:not(.draad-card--infowindow)\"\n\t\t);\n\n\t\tif (!this.layers[\"search\"]) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst center = this.layers[\"search\"]\n\t\t\t.getLayers()[0]\n\t\t\t.getBounds()\n\t\t\t.getCenter();\n\n\t\t// sort locations by distance to search marker\n\t\tconst sortedLocations = [...locations].sort((a, b) => {\n\t\t\tconst aCenter = a\n\t\t\t\t.getAttribute(\"data-draad-center\")\n\t\t\t\t.split(\"/\")\n\t\t\t\t.map(Number);\n\t\t\tconst bCenter = b\n\t\t\t\t.getAttribute(\"data-draad-center\")\n\t\t\t\t.split(\"/\")\n\t\t\t\t.map(Number);\n\n\t\t\tconst aDistance = this.map.distance(center, aCenter);\n\t\t\tconst bDistance = this.map.distance(center, bCenter);\n\n\t\t\treturn aDistance - bDistance;\n\t\t});\n\n\t\t// remove all locations from dom\n\t\tlist.innerHTML = \"\";\n\n\t\t// add sorted locations to dom\n\t\tsortedLocations.forEach((location) => list.appendChild(location));\n\t};\n\n}\n\n/**\n * Limits the number of times the callback can be called.\n *\n * @param {function} callback The function to debounce.\n * @param {number} wait The time to wait.\n */\nfunction debounce(callback, wait) {\n\tlet timeout;\n\treturn (...args) => {\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(() => {\n\t\t\tcallback.apply(this, args);\n\t\t}, wait);\n\t};\n}"],
  "mappings": "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",
  "names": ["Draad_Focus_Trap", "node", "value", "focusableElements", "element", "visibleFocusableElements", "event", "focusTrap_default", "draad", "mapEvent", "draadMapsInit", "node", "map", "Draad_Map", "documentComputedStyles", "cluster", "childCount", "c", "locations", "locationsLayer", "minHeight", "location", "height", "baseFontSize", "e", "elem", "evt", "canceled", "error", "err", "options", "success", "pos", "crd", "userLocation", "datasetNodes", "endpoint", "name", "data", "geoJSON", "geojsonLayer", "checkbox", "response", "markerSrc", "markerActiveSrc", "search", "instructions", "config", "json", "record", "center", "marker", "focusTrap_default", "close", "layer", "state", "feature", "styleDefault", "styleActive", "styleHover", "styleFocus", "dataset", "event", "autocomplete", "debounce", "option", "geojson", "searchLayer", "wrapper", "list", "sortedLocations", "a", "b", "aCenter", "bCenter", "aDistance", "bDistance", "callback", "wait", "timeout", "args"]
}
