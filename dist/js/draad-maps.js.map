{
  "version": 3,
  "sources": ["../../src/js/focusTrap.js", "../../src/js/draad-maps.js"],
  "sourcesContent": ["`use strict`;\n\nclass Draad_Focus_Trap {\n  /**\n   * Constructor\n   *\n   * @param {HTMLElement} node HTML element to trap focus in\n   */\n  constructor(node) {\n    this.rootEl = node;\n  }\n\n  rootEl = null;\n\n  _active = false;\n\n  firstFocusableElement = null;\n\n  lastFocusableElement = null;\n\n  get active() {\n    return this._active;\n  }\n\n  set active(value) {\n    if (typeof value !== \"boolean\") {\n      return;\n    }\n\n    this._active = value;\n\n    if (this._active) {\n      this.activate();\n    } else {\n      this.deactivate();\n    }\n  }\n\n  /**\n   * Activate focus trap\n   */\n  activate() {\n    if (!this._active) {\n      return;\n    }\n\n    // get all focusable children\n    const focusableElements = Array.from(\n      this.rootEl.querySelectorAll(\n        \"a[href], button, textarea, input, select, summary, [tabindex]\",\n      ),\n    );\n    // filter out elements with tabindex=\"-1\"\n    focusableElements.filter(\n      (element) => element.getAttribute(\"tabindex\") !== \"-1\",\n    );\n\n    if (focusableElements.length === 0) {\n      return;\n    }\n\n    // filter out elements that are not visible\n    const visibleFocusableElements = focusableElements.filter(\n      (element) => element.offsetParent !== null,\n    );\n\n    this.firstFocusableElement = visibleFocusableElements[0];\n\n    this.lastFocusableElement =\n      visibleFocusableElements[visibleFocusableElements.length - 1];\n\n    this.rootEl.addEventListener(\"keydown\", (event) => {\n      if (event.key !== \"Tab\") {\n        return;\n      }\n\n      if (\n        !event.shiftKey &&\n        document.activeElement === this.lastFocusableElement\n      ) {\n        event.preventDefault();\n        this.firstFocusableElement.focus();\n      } else if (\n        event.shiftKey &&\n        document.activeElement === this.firstFocusableElement\n      ) {\n        event.preventDefault();\n        this.lastFocusableElement.focus();\n      }\n    });\n  }\n\n  /**\n   * Deactivate focus trap\n   */\n  deactivate() {\n    this.rootEl.removeEventListener(\"keydown\", () => {});\n\n    this.firstFocusableElement = null;\n\n    this.lastFocusableElement = null;\n  }\n}\n\nexport default Draad_Focus_Trap;\n", "import Draad_Focus_Trap from \"./focusTrap.js\";\n\n`use strict`;\n\nconst draad = {};\nconst mapEvent = new Event(\"draadMapsLoaded\");\n\n/**\n * Initialize maps\n */\nfunction draadMapsInit() {\n\tdraad.maps = [];\n\tconst nodes = document.querySelectorAll(\".draad-maps\");\n\tnodes.forEach((node) => {\n\t\t// initialize map\n\t\tconst map = new Draad_Map(node);\n\n\t\t// save map to draad.maps\n\t\tdraad.maps.push(map);\n\n\t\tdocument.dispatchEvent(mapEvent);\n\t});\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", draadMapsInit);\n\nclass Draad_Map {\n\n\tnode = null;\n\n\tmap = null;\n\n\tcenter = null;\n\n\tzoom = null;\n\n\touterWrapper = null;\n\n\tlayers = {};\n\n\tcolors = {};\n\n\t/**\n\t *  Constructor\n\t *\n\t * @param {HTMLElement} node The HTML element that contains the map.\n\t */\n\tconstructor(node) {\n\n\t\tif (!node) {\n\t\t\tthrow new Error(\"Draad Maps: No map node provided.\");\n\t\t}\n\n\t\tthis.mapNode = node;\n\t\tthis.outerWrapper = node.closest(\".draad-maps__wrapper\");\n\t\tthis.map = this.createMap();\n\n\t\tconst documentComputedStyles = getComputedStyle( document.documentElement );\n\t\tthis.colors = {\n\t\t\tprimary: documentComputedStyles.getPropertyValue(\"--dk__clr-primary\" ) || \"#248641\",\n\t\t\tsecondary: documentComputedStyles.getPropertyValue( \"--dk__clr-secondary\" ) || \"#7D6200\",\n\t\t\taccent: documentComputedStyles.getPropertyValue(\"--dk__clr-accent\" ) || \"#1261A3\"\n\t\t};\n\n\t\t/**\n\t\t * Add clusters\n\t\t */\n\t\tthis.cluster = L.markerClusterGroup(\n\t\t\t{\n\t\t\t\tshowCoverageOnHover: false,\n\t\t\t\ticonCreateFunction: (cluster) => {\n\n\t\t\t\t\tconst childCount = cluster.getChildCount();\n\t\t\t\t\tlet c = \" marker-cluster-large\";\n\t\t\t\t\tlet size = 56;\n\n\t\t\t\t\tif (childCount < 10) {\n\t\t\t\t\t\tc = \"marker-cluster-small\";\n\t\t\t\t\t\tsize = 40;\n\t\t\t\t\t} else if (childCount < 100) {\n\t\t\t\t\t\tc += \"marker-cluster-medium\";\n\t\t\t\t\t\tsize = 48;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn new L.DivIcon(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thtml:\n\t\t\t\t\t\t\t\t'<div class=\"marker-cluster\"><span>' +\n\t\t\t\t\t\t\t\tchildCount +\n\t\t\t\t\t\t\t\t' <span aria-label=\"markers\"></span>' +\n\t\t\t\t\t\t\t\t\"</span></div>\",\n\t\t\t\t\t\t\tclassName: c,\n\t\t\t\t\t\t\ticonSize: new L.Point(size, size)\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\t/**\n\t\t * Add manually created markers\n\t\t */\n\t\tthis.loadFeatures( 'draad-maps-location' );\n\n\t\t/**\n\t\t * Add datasets\n\t\t */\n\t\tconst datasets = Array.from( this.outerWrapper.querySelectorAll( '.draad-maps__dataset' ) ).map( dataset => {\n\t\t\treturn dataset.dataset.datasetName;\n\t\t});\n\t\tdatasets?.forEach( dataset => {\n\t\t\tthis.loadFeatures( dataset );\n\t\t});\n\n\t\tthis.legendNode = this.outerWrapper.querySelector( \".draad-maps__legend\" );\n\t\tif (this.legendNode) {\n\t\t\tthis.legendHandler();\n\t\t}\n\n\t\t/**\n\t\t * Add support to open infowindows with enter key\n\t\t */\n\t\tthis.outerWrapper.addEventListener(\"keypress\", (e) => {\n\t\t\tif (e.key === \"Enter\") {\n\t\t\t\tconst simulateClick = (elem) => {\n\t\t\t\t\t// Create our event (with options)\n\t\t\t\t\tconst evt = new MouseEvent(\"click\", {\n\t\t\t\t\t\tbubbles: true,\n\t\t\t\t\t\tcancelable: true,\n\t\t\t\t\t\tview: window\n\t\t\t\t\t});\n\n\t\t\t\t\telem.dispatchEvent(evt);\n\t\t\t\t};\n\n\t\t\t\tsimulateClick(e.target);\n\t\t\t}\n\t\t});\n\n\t\t/**\n\t\t * Show current GPS location of user\n\t\t * \n\t\t * !! Not working\n\t\t */\n\t\tif (document.getElementById(node.id + \"-gps\")) {\n\t\t\tconst options = {\n\t\t\t\tenableHighAccuracy: true,\n\t\t\t\ttimeout: 5000,\n\t\t\t\tmaximumAge: 0\n\t\t\t};\n\n\t\t\tconst success = (pos) => {\n\t\t\t\tconst crd = pos.coords;\n\n\t\t\t\tconst userLocation = L.layerGroup();\n\t\t\t\tconst marker = L.marker(\n\t\t\t\t\t[parseFloat(crd.latitude), parseFloat(crd.longitude)],\n\t\t\t\t\t{\n\t\t\t\t\t\ticon: this.getLeafletIcon({\n\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-gps.png`,\n\t\t\t\t\t\t\ticonSize: [48, 48],\n\t\t\t\t\t\t\ticonAnchor: [24, 24]\n\t\t\t\t\t\t}),\n\t\t\t\t\t\triseOnHover: false,\n\t\t\t\t\t\talt: \"Your location\"\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tmarker.addTo(userLocation);\n\n\t\t\t\tthis.layers.userLocation = userLocation;\n\t\t\t\tthis.layers.userLocation.addTo(this.cluster);\n\t\t\t};\n\n\t\t\tfunction error(err) {\n\t\t\t\tconsole.warn(`ERROR(${err.code}): ${err.message}`);\n\t\t\t}\n\n\t\t\tnavigator.geolocation.getCurrentPosition(success, error, options);\n\t\t}\n\n\t\t/**\n\t\t * Add clusters to map\n\t\t */\n\t\tthis.map.addLayer(this.cluster);\n\n\t\t/**\n\t\t * Add search\n\t\t */\n\t\tconst search = this.outerWrapper.querySelector(\".draad-search\");\n\t\tif (search) {\n\t\t\tthis.searchInput = search.querySelector(\".draad-search__input\");\n\t\t\tthis.searchSubmit = search.querySelector(\".draad-search__submit\");\n\t\t\tthis.searchHandler();\n\t\t}\n\n\t\t/**\n\t\t * Remove touch instructions after interaction\n\t\t */\n\t\tconst instructions = this.outerWrapper.querySelector(\n\t\t\t\".draad-maps__instructions\"\n\t\t);\n\t\tif (instructions) {\n\t\t\tinstructions.addEventListener(\"click\", () => instructions.remove());\n\t\t\tinstructions.addEventListener(\"touchstart\", () =>\n\t\t\t\tinstructions.remove()\n\t\t\t);\n\t\t}\n\n\t}\n\t\n\t/**\n\t * Creates a new Leaflet map.\n\t *\n\t * @returns {object}\n\t */\n\tcreateMap = () => {\n\t\tconst center = this.mapNode.dataset.draadCenter.split(\"/\");\n\n\t\tthis.center = [parseFloat(center[1]), parseFloat(center[2])];\n\t\tthis.zoom = parseInt(center[0]);\n\n\t\tconst map = L.map(this.mapNode.id, {\n\t\t\tdragging: !L.Browser.mobile,\n\t\t\ttap: !L.Browser.mobile,\n\t\t\tscrollWheelZoom: false\n\t\t}).setView(this.center, this.zoom);\n\n\t\t// Tile layer\n\t\tL.tileLayer(\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n\t\t\tmaxZoom: 20,\n\t\t\tattribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n\t\t}).addTo(map);\n\n\t\t// remove zoom control\n\t\tmap.removeControl(map.zoomControl);\n\n\t\tL.control\n\t\t\t.zoom({\n\t\t\t\tposition: \"bottomleft\",\n\t\t\t\tzoomInText: '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\"><g><path d=\"M10 4.16602V15.8327\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/><path d=\"M4.16602 10H15.8327\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></g></svg>',\n\t\t\t\tzoomInTitle: \"Zoom in\",\n\t\t\t\tzoomOutText: '<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden=\"true\"><g><path d=\"M4.16602 10H15.8327\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/></g></svg>',\n\t\t\t\tzoomOutTitle: \"Zoom out\"\n\t\t\t})\n\t\t\t.addTo(map);\n\n\t\treturn map;\n\t};\n\n\t/**\n\t * Add features found in the DOM to the map\n\t */\n\tloadFeatures( datasetName ) {\n\n\t\tconst features = this.outerWrapper.querySelectorAll( '.draad-card--infowindow[data-dataset-name=\"' + datasetName + '\"]' );\n\n\t\tif ( features.length === 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet featureCollection = {\n\t\t\t\"type\": \"FeatureCollection\",\n\t\t\t\"features\": []\n\t\t};\n\n\t\tthis.layers[datasetName] = L.layerGroup();\n\t\tfeatures.forEach((featureNode) => {\n\n\t\t\tconst feature = JSON.parse( featureNode.dataset.draadFeature );\n\t\t\tfeature.properties.infowindow = featureNode.id;\n\t\t\tfeature.properties.datasetName = featureNode.dataset.datasetName;\n\t\t\tfeatureCollection.features.push( feature );\n\n\t\t});\n\n\t\tthis.layers[datasetName] = L.geoJSON( featureCollection );\n\t\tthis.layers[datasetName].getLayers()?.forEach((layer) => {\n\n\t\t\tconst featureNode = document.getElementById( layer.feature.properties.infowindow );\n\t\t\t\n\t\t\tlayer._styles = {\n\t\t\t\tdefault:\n\t\t\t\t\ttypeof featureNode !== \"undefined\" && featureNode.dataset.marker !== \"\"\n\t\t\t\t\t\t? this.getLeafletIcon({ iconUrl: featureNode.dataset.marker })\n\t\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker.png`\n\t\t\t\t\t\t\t}),\n\t\t\t\thover:\n\t\t\t\t\ttypeof featureNode !== \"undefined\" &&\n\t\t\t\t\tfeatureNode.dataset.markerHover !== \"\"\n\t\t\t\t\t\t? this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: featureNode.dataset.markerHover\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-hover.png`\n\t\t\t\t\t\t\t}),\n\t\t\t\tactive:\n\t\t\t\t\ttypeof featureNode !== \"undefined\" &&\n\t\t\t\t\tfeatureNode.dataset.markerActive !== \"\"\n\t\t\t\t\t\t? this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: featureNode.dataset.markerActive\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t: this.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-active.png`\n\t\t\t\t\t\t\t})\n\t\t\t};\n\n\t\t\tlayer._style = {\n\t\t\t\tcolor:\n\t\t\t\t\ttypeof featureNode !== \"undefined\" &&\n\t\t\t\t\tfeatureNode.dataset.shapeColor !== \"\"\n\t\t\t\t\t\t? featureNode.dataset.shapeColor\n\t\t\t\t\t\t: this.colors.primary,\n\t\t\t\tweight:\n\t\t\t\t\ttypeof featureNode !== \"undefined\" &&\n\t\t\t\t\tfeatureNode.dataset.shapeWidth !== \"\"\n\t\t\t\t\t\t? featureNode.dataset.shapeWidth\n\t\t\t\t\t\t: 4,\n\t\t\t\tdashArray:\n\t\t\t\t\ttypeof featureNode !== \"undefined\" &&\n\t\t\t\t\tfeatureNode.dataset.shapeStyle === \"solid\"\n\t\t\t\t\t\t? \"0, 0\"\n\t\t\t\t\t\t: \"8, 8\",\n\t\t\t\tfillColor:\n\t\t\t\t\ttypeof featureNode !== \"undefined\" &&\n\t\t\t\t\tfeatureNode.dataset.shapeColor !== \"\"\n\t\t\t\t\t\t? featureNode.dataset.shapeColor\n\t\t\t\t\t\t: this.colors.primary,\n\t\t\t\tfillOpacity: 0\n\t\t\t};\n\n\t\t\tlayer.locationTrap = new Draad_Focus_Trap(featureNode);\n\n\t\t\t// set style\n\t\t\tif (typeof layer.setIcon === \"function\") {\n\t\t\t\tlayer.setIcon(layer._styles.default);\n\t\t\t} else if (typeof layer.setStyle === \"function\") {\n\t\t\t\tlayer.setStyle(layer._style);\n\t\t\t}\n\t\t\tlayer.selected = false;\n\t\t\tthis.markerHandler(layer, featureNode);\n\n\t\t});\n\n\t\tthis.layers[datasetName].addTo( this.cluster );\n\t}\n\n\t/**\n\t * Event handler for GeoJSON data.\n\t *\n\t * @param {object} feature The GeoJSON feature.\n\t */\n\t// dataHandler = (layer) => {\n\t// \tlayer.on(\"click\", (e) => {\n\n\t// \t\t// close other infowindows\n\t// \t\tconst infowindows = this.outerWrapper.querySelectorAll(\".draad-card--infowindow\");\n\t// \t\tinfowindows.forEach((infowindow) => {\n\t// \t\t\tinfowindow.classList.remove(\"draad-card--active\");\n\t// \t\t\tinfowindow.setAttribute(\"aria-hidden\", \"true\");\n\t// \t\t\tinfowindow.setAttribute(\"hidden\", \"\");\n\t// \t\t});\n\n\t// \t\tconst infowindow = document.getElementById( layer.feature.properties.infowindow );\n\t// \t\tinfowindow?.classList.add( 'draad-infowindow--active' );\n\t// \t\tinfowindow?.setAttribute(\"aria-hidden\", \"false\");\n\t// \t\tinfowindow?.removeAttribute(\"hidden\");\n\t// \t\tlayer.locationTrap = true;\n\n\t// \t\tconst close = infowindow ? infowindow.querySelector(\".draad-card__close\") : null;\n\t// \t\tif (close) {\n\t// \t\t\tclose.addEventListener(\"click\", (e) => {\t\n\t// \t\t\t\tthis.dataSetState(layer, \"default\");\n\t// \t\t\t\tlayer.selected = false;\n\t\t\t\t\t\n\t// \t\t\t\tif (layer.icon) {\n\t// \t\t\t\t\tlayer.icon.focus();\n\t// \t\t\t\t}\n\t\t\t\t\t\n\t// \t\t\t\tinfowindow.classList.remove(\"draad-infowindow--active\");\n\t// \t\t\t\tinfowindow.setAttribute(\"aria-hidden\", \"true\");\n\t// \t\t\t\tinfowindow.setAttribute(\"hidden\", \"\");\n\t// \t\t\t\tlayer.locationTrap = false;\n\t// \t\t\t});\n\t// \t\t}\n\n\t// \t\tthis.dataSetState(layer, \"active\");\n\t// \t\tthis.map.flyToBounds(layer.getBounds(), { padding: [0, 0] });\n\t// \t});\n\t// };\n\n\t/**\n\t * Changes the state of a GeoJSON feature.\n\t *\n\t * @param {object} feature The GeoJSON feature.\n\t * @param {string} state The state of the feature.\n\t */\n\tdataSetState = (feature, state) => {\n\t\tconst style = feature._style;\n\t\tswitch (state) {\n\t\t\tcase \"active\":\n\t\t\tcase \"hover\":\n\t\t\tcase \"focus\":\n\t\t\t\tstyle.fillOpacity = 0.15;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tstyle.fillOpacity = 0;\n\t\t\t\tbreak;\n\t\t}\n\t\tfeature.setStyle(style);\n\t};\n\n\t/**\n\t * Event handler for markers.\n\t *\n\t * @param {object} marker The marker object.\n\t * @param {HTMLElement} location The infowindow.\n\t */\n\tmarkerHandler = (layer, location = null) => {\n\n\t\tconst close = location ? location.querySelector(\".draad-card__close\") : null;\n\t\tif (close) {\n\t\t\tclose.addEventListener(\"click\", (e) => {\n\t\t\t\tif (typeof layer.setIcon === \"function\") {\n\t\t\t\t\tlayer.setIcon(layer._styles.default);\n\t\t\t\t} else if (typeof layer.setStyle === \"function\") {\n\t\t\t\t\tlayer.setStyle(layer._style);\n\t\t\t\t}\n\n\t\t\t\tlayer.selected = false;\n\n\t\t\t\tif (layer.icon) {\n\t\t\t\t\tlayer.icon.focus();\n\t\t\t\t}\n\n\t\t\t\tlocation.classList.remove(\"draad-infowindow--active\");\n\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"true\");\n\t\t\t\tlocation.setAttribute(\"hidden\", \"\");\n\t\t\t});\n\t\t}\n\n\t\tlayer.on(\"click\", (e) => {\n\n\t\t\tif ( location ) {\n\t\t\t\t\n\t\t\t\t// close other infowindows\n\t\t\t\tconst infowindows = this.outerWrapper.querySelectorAll(\".draad-card--infowindow\");\n\t\t\t\tinfowindows.forEach((infowindow) => {\n\t\t\t\t\tinfowindow.classList.remove(\"draad-card--active\");\n\t\t\t\t\tinfowindow.setAttribute(\"aria-hidden\", \"true\");\n\t\t\t\t\tinfowindow.setAttribute(\"hidden\", \"\");\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// update marker of other infowindows\n\t\t\t\tfor (let layerGroupName in this.layers) {\n\t\t\t\t\tthis.layers[layerGroupName].eachLayer((layer) => {\n\t\t\t\t\t\tif (layer.selected === true) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif ( typeof layer.setStyle === 'function' ) {\n\t\t\t\t\t\t\t\tthis.dataSetState(layer, \"default\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif ( typeof layer.setIcon === 'function' ) {\n\t\t\t\t\t\t\t\tthis.markerSetState(layer, \"default\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlayer.locationTrap.active = false;\n\t\t\t\t\t\t\tlayer.selected = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (layer.selected === true) {\n\t\t\t\t\tlocation.classList.remove(\"draad-card--active\");\n\t\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"true\");\n\t\t\t\t\tlocation.setAttribute(\"hidden\", \"\");\n\t\t\t\t\tlayer.locationTrap.active = false;\n\n\t\t\t\t\tif (marker.icon) {\n\t\t\t\t\t\tmarker.icon.focus();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlocation.classList.add(\"draad-card--active\");\n\t\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"false\");\n\t\t\t\t\tlocation.removeAttribute(\"hidden\");\n\t\t\t\t\tlayer.locationTrap.active = true;\n\n\t\t\t\t\tconst close = location.querySelector(\".draad-card__close\");\n\t\t\t\t\tclose.focus();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t\n\t\t\t\tfor (let key in this.layers) {\n\t\t\t\t\tthis.layers[key].eachLayer( layer => {\n\n\t\t\t\t\t\tif ( typeof layer.setIcon === 'function' ) {\n\t\t\t\t\t\t\tthis.markerSetState(layer, \"default\");\n\t\t\t\t\t\t} else if ( typeof layer.setStyle === 'function' ) {\n\t\t\t\t\t\t\tlayer.setStyle(layer._style);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlayer.selected = false;\n\t\t\t\t\t\tlayer.locationTrap.active = false;\n\t\t\t\t\t\tlayer.closePopup();\n\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tlayer.openPopup();\n\t\t\t}\n\n\t\t\tif ( typeof layer.getLatLng === 'function' ) {\n\t\t\t\tthis.map.panTo(layer.getLatLng());\n\t\t\t} else if ( typeof layer.getBounds === 'function' ) {\n\t\t\t\tthis.map.flyToBounds(layer.getBounds(), { padding: [0, 0] });\n\t\t\t}\n\t\t});\n\n\t\tlayer.on(\"popupclose\", (e) => {\n\t\t\tthis.markerSetState(layer, \"default\");\n\t\t\tlayer.selected = false;\n\n\t\t\tif (location) {\n\t\t\t\tlocation.classList.remove(\"draad-card--active\");\n\t\t\t\tlocation.setAttribute(\"aria-hidden\", \"true\");\n\t\t\t\tlocation.setAttribute(\"hidden\", \"\");\n\n\t\t\t\tif (layer.icon) {\n\t\t\t\t\tlayer.icon.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Changes the state of a marker.\n\t *\n\t * @param {object} marker The marker object.\n\t * @param {string} state The state of the marker.\n\t */\n\tmarkerSetState = (marker, state) => {\n\t\tswitch (state) {\n\t\t\tcase \"active\":\n\t\t\tcase \"focus\":\n\t\t\t\tmarker.setIcon(marker._styles.active);\n\t\t\t\tbreak;\n\n\t\t\tcase \"hover\":\n\t\t\t\tmarker.setIcon(marker._styles.hover);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tmarker.setIcon(marker._styles.default);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * Event handler for the search input.\n\t *\n\t * @return {void}\n\t */\n\tsearchHandler = () => {\n\t\tconst autocomplete = document.getElementById(\n\t\t\tthis.searchInput.getAttribute(\"list\")\n\t\t);\n\n\t\tthis.searchInput.addEventListener(\n\t\t\t\"keyup\",\n\t\t\tdebounce(() => {\n\t\t\t\t// get posible locations from nominatim api\n\t\t\t\tfetch(\n\t\t\t\t\t`https://nominatim.openstreetmap.org/search?&q=Den+Haag+${this.searchInput.value}&layer=address,manmade,poi&polygon_geojson=1&countrycodes=nl&format=json&addressdetails=1&accept-language=nl-NL&limit=10`\n\t\t\t\t)\n\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tautocomplete.innerHTML = \"\";\n\t\t\t\t\t\tdata.forEach((location) => {\n\t\t\t\t\t\t\tconst option = document.createElement(\"option\");\n\t\t\t\t\t\t\toption.value = location.display_name;\n\t\t\t\t\t\t\tautocomplete.appendChild(option);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t}, 750)\n\t\t);\n\n\t\tthis.searchSubmit.addEventListener(\"click\", (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tthis.removeSearchMarker();\n\n\t\t\t// get posible locations from nominatim api\n\t\t\tfetch(\n\t\t\t\t`https://nominatim.openstreetmap.org/search?&q=${encodeURIComponent(this.searchInput.value)}&layer=address,manmade,poi&polygon_geojson=1&countrycodes=nl&format=geojson&addressdetails=1&accept-language=nl-NL&limit=50`\n\t\t\t)\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((data) => {\n\t\t\t\t\tconst noticeNode = document.getElementById(\n\t\t\t\t\t\t\"draad-search-notice\"\n\t\t\t\t\t);\n\n\t\t\t\t\tif (!noticeNode) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tdata.features = data.features.filter((feature) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tfeature.properties.address.municipality ===\n\t\t\t\t\t\t\t\"Den Haag\"\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (data.features.length === 0) {\n\t\t\t\t\t\tif (noticeNode) {\n\t\t\t\t\t\t\tnoticeNode.innerHTML =\n\t\t\t\t\t\t\t\t\"<p>Geen resultaten gevonden</p>\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tnoticeNode.innerHTML = \"\";\n\n\t\t\t\t\tthis.addSearchMarker(data.features);\n\t\t\t\t})\n\t\t\t\t.then(() => this.sortLocations());\n\t\t});\n\t};\n\n\t/**\n\t * Adds a search marker to the map.\n\t *\n\t * @param {object} geojson The GeoJSON data.\n\t */\n\taddSearchMarker = (geojson) => {\n\t\t// add new layer group top map with search marker\n\t\tconst searchLayer = L.layerGroup();\n\n\t\t// add geojson layer to layer group\n\t\tsearchLayer.addLayer(\n\t\t\tL.geoJson(geojson, {\n\t\t\t\tstyle: {\n\t\t\t\t\tcolor: this.colors.accent,\n\t\t\t\t\tweight: 3,\n\t\t\t\t\tfillColor: this.colors.accent,\n\t\t\t\t\tfillOpacity: 0.3\n\t\t\t\t},\n\t\t\t\tonEachFeature: (feature, layer) => {\n\t\t\t\t\tif (typeof layer.setIcon === \"function\") {\n\t\t\t\t\t\tlayer.setIcon(\n\t\t\t\t\t\t\tthis.getLeafletIcon({\n\t\t\t\t\t\t\t\ticonUrl: `${draadMapsConfig.pluginDir}/dist/images/marker-search.png`\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (typeof layer.setStyle === \"function\") {\n\t\t\t\t\t\tlayer.setStyle({\n\t\t\t\t\t\t\tcolor: this.colors.accent,\n\t\t\t\t\t\t\tweight: 4,\n\t\t\t\t\t\t\tdashArray: \"0, 0\",\n\t\t\t\t\t\t\tfillColor: this.colors.accent,\n\t\t\t\t\t\t\tfillOpacity: 0.3\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t\t// zoom to search marker\n\t\tthis.map.flyToBounds(L.geoJson(geojson).getBounds(), {\n\t\t\tpadding: [50, 50]\n\t\t});\n\n\t\tsearchLayer.addTo(this.map);\n\t\tthis.layers.search = searchLayer;\n\t};\n\n\t/**\n\t * Removes the search marker from the map.\n\t */\n\tremoveSearchMarker = () => {\n\t\tif (!this.layers.search) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.map.removeLayer(this.layers.search);\n\n\t\t// remove search marker from layers\n\t\tdelete this.layers.search;\n\t};\n\n\t/**\n\t * Sorts locations by distance to search marker.\n\t */\n\tsortLocations = () => {\n\t\tconst wrapper = this.mapNode.closest(\".draad-maps__wrapper\");\n\t\tconst list = wrapper.querySelector(\".draad-grid\");\n\t\tconst locations = list.querySelectorAll(\n\t\t\t\".draad-card\"\n\t\t);\n\n\t\tif (!this.layers.search) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst center = this.layers.search\n\t\t\t.getLayers()[0]\n\t\t\t.getBounds()\n\t\t\t.getCenter();\n\n\t\t// sort locations by distance to search marker\n\t\tconst sortedLocations = [...locations].sort((a, b) => {\n\t\t\tconst aCenter = a\n\t\t\t\t.getAttribute(\"data-draad-center\")\n\t\t\t\t.split(\"/\")\n\t\t\t\t.map(Number);\n\t\t\tconst bCenter = b\n\t\t\t\t.getAttribute(\"data-draad-center\")\n\t\t\t\t.split(\"/\")\n\t\t\t\t.map(Number);\n\n\t\t\tconst aDistance = this.map.distance(center, aCenter);\n\t\t\tconst bDistance = this.map.distance(center, bCenter);\n\n\t\t\tconsole.log( center, aDistance, bDistance, aDistance - bDistance );\n\n\t\t\treturn aDistance - bDistance;\n\t\t});\n\n\t\tconsole.log( 'sortedLocations', sortedLocations );\n\t\tconsole.log( 'locations', locations );\n\n\t\t// remove all locations from dom\n\t\tlist.innerHTML = \"\";\n\n\t\t// add sorted locations to dom\n\t\tsortedLocations.forEach((location) => list.appendChild(location));\n\t};\n\n\t/**\n\t * Event handler for legend\n\t */\n\tlegendHandler = () => {\n\t\tconst checkboxes = this.legendNode.querySelectorAll(\"input\");\n\t\tcheckboxes?.forEach((checkbox) => {\n\t\t\tconst dataset = checkbox.closest(\".draad-maps__dataset\");\n\t\t\tconst name = dataset.dataset.datasetName;\n\n\t\t\tcheckbox.addEventListener(\"change\", (event) => {\n\t\t\t\tif (checkbox.checked) {\n\t\t\t\t\tconst endpoint = dataset.dataset.draadGeojson;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tdocument.getElementById(\n\t\t\t\t\t\t\tdataset.dataset.draadGeojsonTarget\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst data = JSON.parse(\n\t\t\t\t\t\t\tdocument.getElementById(\n\t\t\t\t\t\t\t\tdataset.dataset.draadGeojsonTarget\n\t\t\t\t\t\t\t).text\n\t\t\t\t\t\t);\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.loadFeatures( name );\n\t\t\t\t\t\t// this.loadGeoJson( data, name, dataset );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (endpoint) {\n\t\t\t\t\t\tconst checkbox = dataset.querySelector(\"input\");\n\n\t\t\t\t\t\tfetch(endpoint)\n\t\t\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\t\t\tthis.loadFeatures( name );\n\t\t\t\t\t\t\t\t// this.loadGeoJson( data, name, dataset );\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.layers[name]) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.cluster.removeLayer(this.layers[name]);\n\n\t\t\t\t\t// remove search marker from layers\n\t\t\t\t\tdelete this.layers[name];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\t\n\t/**\n\t * Returns default marker styles\n\t *\n\t * @param {object} config\n\t * \n\t * @returns {object}\n\t */\n\tgetLeafletIcon = (config) =>\n\t\tL.icon({\n\t\t\ticonUrl: \"\",\n\t\t\ticonSize: [39.2, 51.2],\n\t\t\ticonAnchor: [19.6, 51.2],\n\t\t\tpopupAnchor: [-3, -76],\n\t\t\t...config\n\t});\n\n}\n\n/**\n * Limits the number of times the callback can be called.\n *\n * @param {function} callback The function to debounce.\n * @param {number} wait The time to wait.\n */\nfunction debounce(callback, wait) {\n\tlet timeout;\n\treturn (...args) => {\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(() => {\n\t\t\tcallback.apply(this, args);\n\t\t}, wait);\n\t};\n}\n"],
  "mappings": "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",
  "names": ["Draad_Focus_Trap", "node", "value", "focusableElements", "element", "visibleFocusableElements", "event", "focusTrap_default", "draad", "mapEvent", "draadMapsInit", "node", "map", "Draad_Map", "documentComputedStyles", "cluster", "childCount", "size", "dataset", "e", "elem", "evt", "error", "err", "options", "success", "pos", "crd", "userLocation", "search", "instructions", "center", "datasetName", "features", "featureCollection", "featureNode", "feature", "layer", "focusTrap_default", "state", "style", "location", "close", "infowindow", "layerGroupName", "key", "marker", "autocomplete", "debounce", "response", "data", "option", "noticeNode", "geojson", "searchLayer", "list", "locations", "sortedLocations", "a", "b", "aCenter", "bCenter", "aDistance", "bDistance", "checkbox", "name", "event", "endpoint", "config", "callback", "wait", "timeout", "args"]
}
