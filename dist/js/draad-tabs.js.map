{
  "version": 3,
  "sources": ["../../src/js/draad-tabs.js"],
  "sourcesContent": ["`use strict`;\n\nclass Draad_Tabs {\n  /**\n   * Constructor\n   *\n   * @param {HTMLElement} groupNode The HTML element tat contains the tabs.\n   */\n  constructor(groupNode) {\n    if (!groupNode) {\n      throw new Error(\"Draad Tabs: No tablist node provided.\");\n    }\n\n    this.tablistNode = groupNode;\n    this.tabs = Array.from(this.tablistNode.querySelectorAll(\"[role=tab]\"));\n    this.tabPanels = this.tabs?.map((tab) =>\n      document.getElementById(tab.getAttribute(\"aria-controls\")),\n    );\n    this.firstTab = this.tabs[0] || null;\n    this.lastTab = this.tabs[this.tabs.length - 1] || null;\n\n    this.tabs?.forEach((tab) => {\n      tab.setAttribute(\"aria-selected\", \"false\");\n      tab.addEventListener(\"keydown\", this.onKeydown.bind(this));\n      tab.addEventListener(\"click\", this.onClick.bind(this));\n    });\n\n    this.setSelectedTab(this.firstTab);\n  }\n\n  /**\n   * Set the selected tab.\n   *\n   * @param {HTMLElement} currentTab the current tab element.\n   */\n  setSelectedTab(currentTab) {\n    this.tabs?.forEach((tab, i) => {\n      const isSelected = tab === currentTab;\n      tab.setAttribute(\"aria-selected\", isSelected);\n      this.tabPanels[i].hidden = !isSelected;\n    });\n  }\n\n  /**\n   * Move focus to a tab.\n   *\n   * @param {HTMLElement} currentTab The current tab element.\n   */\n  moveFocusToTab(currentTab) {\n    currentTab.focus();\n  }\n\n  /**\n   * Moves the focus to the adjacent tab based on teh spcified direction.\n   *\n   * @param {HTMLElement} currentTab The current tab element.\n   * @param {number} direction -\tThe direction to move the focus.\n   * \t\t\t\t\t\t\t\t-1: Move to the previous tab.\n   * \t\t\t\t\t\t\t\t1: Move to the next tab.\n   */\n  moveFocusToAdjacentTab(currentTab, direction) {\n    let index = this.tabs.indexOf(currentTab);\n    index = (index + direction + this.tabs.length) % this.tabs.length;\n    this.moveFocusToTab(this.tabs[index]);\n  }\n\n  /**\n   * onKeyDown event handler for tabs.\n   *\n   * @param {object} event The keyboard event object.\n   */\n  onKeydown(event) {\n    const tgt = event.currentTarget;\n    let stopPropagation = false;\n\n    switch (event.key) {\n      case \"ArrowLeft\":\n        this.moveFocusToAdjacentTab(tgt, -1);\n        stopPropagation = true;\n        break;\n      case \"ArrowRight\":\n        this.moveFocusToAdjacentTab(tgt, 1);\n        stopPropagation = true;\n        break;\n      case \"Home\":\n        this.moveFocusToTab(this.firstTab);\n        stopPropagation = true;\n        break;\n      case \"End\":\n        this.moveFocusToTab(this.lastTab);\n        stopPropagation = true;\n        break;\n    }\n\n    if (stopPropagation) {\n      event.stopPropagation();\n    }\n  }\n\n  /**\n   * onClick event handler for tabs.\n   *\n   * @param {object} event The click event object.\n   */\n  onClick(event) {\n    this.setSelectedTab(event.currentTarget);\n  }\n}\n\n// Initialize tablist.\nwindow.addEventListener(\"DOMContentLoaded\", () =>\n  document\n    .querySelectorAll(\".draad-tabs\")\n    ?.forEach((tablist) => new Draad_Tabs(tablist)),\n);\n"],
  "mappings": "MAEA,IAAMA,EAAN,KAAiB,CAMf,YAAYC,EAAW,CACrB,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,uCAAuC,EAGzD,KAAK,YAAcA,EACnB,KAAK,KAAO,MAAM,KAAK,KAAK,YAAY,iBAAiB,YAAY,CAAC,EACtE,KAAK,UAAY,KAAK,MAAM,IAAKC,GAC/B,SAAS,eAAeA,EAAI,aAAa,eAAe,CAAC,CAC3D,EACA,KAAK,SAAW,KAAK,KAAK,CAAC,GAAK,KAChC,KAAK,QAAU,KAAK,KAAK,KAAK,KAAK,OAAS,CAAC,GAAK,KAElD,KAAK,MAAM,QAASA,GAAQ,CAC1BA,EAAI,aAAa,gBAAiB,OAAO,EACzCA,EAAI,iBAAiB,UAAW,KAAK,UAAU,KAAK,IAAI,CAAC,EACzDA,EAAI,iBAAiB,QAAS,KAAK,QAAQ,KAAK,IAAI,CAAC,CACvD,CAAC,EAED,KAAK,eAAe,KAAK,QAAQ,CACnC,CAOA,eAAeC,EAAY,CACzB,KAAK,MAAM,QAAQ,CAACD,EAAKE,IAAM,CAC7B,IAAMC,EAAaH,IAAQC,EAC3BD,EAAI,aAAa,gBAAiBG,CAAU,EAC5C,KAAK,UAAUD,CAAC,EAAE,OAAS,CAACC,CAC9B,CAAC,CACH,CAOA,eAAeF,EAAY,CACzBA,EAAW,MAAM,CACnB,CAUA,uBAAuBA,EAAYG,EAAW,CAC5C,IAAIC,EAAQ,KAAK,KAAK,QAAQJ,CAAU,EACxCI,GAASA,EAAQD,EAAY,KAAK,KAAK,QAAU,KAAK,KAAK,OAC3D,KAAK,eAAe,KAAK,KAAKC,CAAK,CAAC,CACtC,CAOA,UAAUC,EAAO,CACf,IAAMC,EAAMD,EAAM,cACdE,EAAkB,GAEtB,OAAQF,EAAM,IAAK,CACjB,IAAK,YACH,KAAK,uBAAuBC,EAAK,EAAE,EACnCC,EAAkB,GAClB,MACF,IAAK,aACH,KAAK,uBAAuBD,EAAK,CAAC,EAClCC,EAAkB,GAClB,MACF,IAAK,OACH,KAAK,eAAe,KAAK,QAAQ,EACjCA,EAAkB,GAClB,MACF,IAAK,MACH,KAAK,eAAe,KAAK,OAAO,EAChCA,EAAkB,GAClB,KACJ,CAEIA,GACFF,EAAM,gBAAgB,CAE1B,CAOA,QAAQA,EAAO,CACb,KAAK,eAAeA,EAAM,aAAa,CACzC,CACF,EAGA,OAAO,iBAAiB,mBAAoB,IAC1C,SACG,iBAAiB,aAAa,GAC7B,QAASG,GAAY,IAAIX,EAAWW,CAAO,CAAC,CAClD",
  "names": ["Draad_Tabs", "groupNode", "tab", "currentTab", "i", "isSelected", "direction", "index", "event", "tgt", "stopPropagation", "tablist"]
}
