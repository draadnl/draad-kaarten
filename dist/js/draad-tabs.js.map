{
  "version": 3,
  "sources": ["../../src/js/draad-tabs.js"],
  "sourcesContent": ["'use strict';\n\nclass Draad_Tabs {\n  constructor(groupNode) {\n    this.tablistNode = groupNode;\n\n    this.tabs = [];\n\n    this.firstTab = null;\n    this.lastTab = null;\n\n    this.tabs = Array.from(this.tablistNode.querySelectorAll('[role=tab]'));\n    this.tabpanels = [];\n\n    for (var i = 0; i < this.tabs.length; i++) {\n      var tab = this.tabs[i];\n      var tabpanel = document.getElementById(tab.getAttribute('aria-controls'));\n\n      tab.setAttribute('aria-selected', 'false');\n      this.tabpanels.push(tabpanel);\n\n      tab.addEventListener('keydown', this.onKeydown.bind(this));\n      tab.addEventListener('click', this.onClick.bind(this));\n\n      if (!this.firstTab) {\n        this.firstTab = tab;\n      }\n      this.lastTab = tab;\n    }\n\n    this.setSelectedTab(this.firstTab);\n  }\n\n  setSelectedTab(currentTab) {\n    for (var i = 0; i < this.tabs.length; i += 1) {\n      var tab = this.tabs[i];\n      if (currentTab === tab) {\n        tab.setAttribute('aria-selected', 'true');\n        this.tabpanels[i].removeAttribute('hidden');\n    } else {\n        tab.setAttribute('aria-selected', 'false');\n        this.tabpanels[i].setAttribute('hidden', 'hidden');\n      }\n    }\n  }\n\n  moveFocusToTab(currentTab) {\n    currentTab.focus();\n  }\n\n  moveFocusToPreviousTab(currentTab) {\n    var index;\n\n    if (currentTab === this.firstTab) {\n      this.moveFocusToTab(this.lastTab);\n    } else {\n      index = this.tabs.indexOf(currentTab);\n      this.moveFocusToTab(this.tabs[index - 1]);\n    }\n  }\n\n  moveFocusToNextTab(currentTab) {\n    var index;\n\n    if (currentTab === this.lastTab) {\n      this.moveFocusToTab(this.firstTab);\n    } else {\n      index = this.tabs.indexOf(currentTab);\n      this.moveFocusToTab(this.tabs[index + 1]);\n    }\n  }\n\n  /* EVENT HANDLERS */\n\n  onKeydown(event) {\n    var tgt = event.currentTarget,\n      flag = false;\n\n    switch (event.key) {\n      case 'ArrowLeft':\n        this.moveFocusToPreviousTab(tgt);\n        flag = true;\n        break;\n\n      case 'ArrowRight':\n        this.moveFocusToNextTab(tgt);\n        flag = true;\n        break;\n\n      case 'Home':\n        this.moveFocusToTab(this.firstTab);\n        flag = true;\n        break;\n\n      case 'End':\n        this.moveFocusToTab(this.lastTab);\n        flag = true;\n        break;\n\n      default:\n        break;\n    }\n\n    if (flag) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  // Since this example uses buttons for the tabs, the click onr also is activated\n  // with the space and enter keys\n  onClick(event) {\n    this.setSelectedTab(event.currentTarget);\n  }\n}\n\n// Initialize tablist\n\nwindow.addEventListener('load', function () {\n  var tablists = document.querySelectorAll('[role=tablist]');\n  for (var i = 0; i < tablists.length; i++) {\n    new Draad_Tabs(tablists[i]);\n  }\n});\n"],
  "mappings": "mBAEA,IAAMA,EAAN,KAAiB,CACf,YAAYC,EAAW,CACrB,KAAK,YAAcA,EAEnB,KAAK,KAAO,CAAC,EAEb,KAAK,SAAW,KAChB,KAAK,QAAU,KAEf,KAAK,KAAO,MAAM,KAAK,KAAK,YAAY,iBAAiB,YAAY,CAAC,EACtE,KAAK,UAAY,CAAC,EAElB,QAASC,EAAI,EAAGA,EAAI,KAAK,KAAK,OAAQA,IAAK,CACzC,IAAIC,EAAM,KAAK,KAAKD,CAAC,EACjBE,EAAW,SAAS,eAAeD,EAAI,aAAa,eAAe,CAAC,EAExEA,EAAI,aAAa,gBAAiB,OAAO,EACzC,KAAK,UAAU,KAAKC,CAAQ,EAE5BD,EAAI,iBAAiB,UAAW,KAAK,UAAU,KAAK,IAAI,CAAC,EACzDA,EAAI,iBAAiB,QAAS,KAAK,QAAQ,KAAK,IAAI,CAAC,EAEhD,KAAK,WACR,KAAK,SAAWA,GAElB,KAAK,QAAUA,CACjB,CAEA,KAAK,eAAe,KAAK,QAAQ,CACnC,CAEA,eAAeE,EAAY,CACzB,QAASH,EAAI,EAAGA,EAAI,KAAK,KAAK,OAAQA,GAAK,EAAG,CAC5C,IAAIC,EAAM,KAAK,KAAKD,CAAC,EACjBG,IAAeF,GACjBA,EAAI,aAAa,gBAAiB,MAAM,EACxC,KAAK,UAAUD,CAAC,EAAE,gBAAgB,QAAQ,IAE1CC,EAAI,aAAa,gBAAiB,OAAO,EACzC,KAAK,UAAUD,CAAC,EAAE,aAAa,SAAU,QAAQ,EAErD,CACF,CAEA,eAAeG,EAAY,CACzBA,EAAW,MAAM,CACnB,CAEA,uBAAuBA,EAAY,CACjC,IAAIC,EAEAD,IAAe,KAAK,SACtB,KAAK,eAAe,KAAK,OAAO,GAEhCC,EAAQ,KAAK,KAAK,QAAQD,CAAU,EACpC,KAAK,eAAe,KAAK,KAAKC,EAAQ,CAAC,CAAC,EAE5C,CAEA,mBAAmBD,EAAY,CAC7B,IAAIC,EAEAD,IAAe,KAAK,QACtB,KAAK,eAAe,KAAK,QAAQ,GAEjCC,EAAQ,KAAK,KAAK,QAAQD,CAAU,EACpC,KAAK,eAAe,KAAK,KAAKC,EAAQ,CAAC,CAAC,EAE5C,CAIA,UAAUC,EAAO,CACf,IAAIC,EAAMD,EAAM,cACdE,EAAO,GAET,OAAQF,EAAM,IAAK,CACjB,IAAK,YACH,KAAK,uBAAuBC,CAAG,EAC/BC,EAAO,GACP,MAEF,IAAK,aACH,KAAK,mBAAmBD,CAAG,EAC3BC,EAAO,GACP,MAEF,IAAK,OACH,KAAK,eAAe,KAAK,QAAQ,EACjCA,EAAO,GACP,MAEF,IAAK,MACH,KAAK,eAAe,KAAK,OAAO,EAChCA,EAAO,GACP,MAEF,QACE,KACJ,CAEIA,IACFF,EAAM,gBAAgB,EACtBA,EAAM,eAAe,EAEzB,CAIA,QAAQA,EAAO,CACb,KAAK,eAAeA,EAAM,aAAa,CACzC,CACF,EAIA,OAAO,iBAAiB,OAAQ,UAAY,CAE1C,QADIG,EAAW,SAAS,iBAAiB,gBAAgB,EAChDR,EAAI,EAAGA,EAAIQ,EAAS,OAAQR,IACnC,IAAIF,EAAWU,EAASR,CAAC,CAAC,CAE9B,CAAC",
  "names": ["Draad_Tabs", "groupNode", "i", "tab", "tabpanel", "currentTab", "index", "event", "tgt", "flag", "tablists"]
}
