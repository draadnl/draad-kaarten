{
  "version": 3,
  "sources": ["../../src/js/focusTrap.js"],
  "sourcesContent": ["`use strict`;\n\nclass Draad_Focus_Trap {\n\n\tconstructor( node ) {\n\n\t\tthis._rootEl = node;\n\n\t}\n\n\t_rootEl = null;\n\n\t_active = false;\n\n\t_firstFocusableElement = null;\n\n\t_lastFocusableElement = null;\n\n\tget active() {\n\t\treturn this._active;\n\t}\n\n\tset active( value ) {\n\n\t\tif ( typeof value !== 'boolean' ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._active = value;\n\n\t\tif ( this._active ) {\n\t\t\tthis.activate();\n\t\t} else {\n\t\t\tthis.deactivate();\n\t\t}\n\n\t}\n\t\n\tactivate() {\n\n\t\tif ( ! this.active ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// get all focusable children\n\t\tconst focusableElements = Array.from( this._rootEl.querySelectorAll( 'a[href], button, textarea, input, select, summary, [tabindex]' ) );\n\n\t\t// filter out elements that are not visible\n\t\tconst visibleFocusableElements = focusableElements.filter( ( element ) => {\n\t\t\treturn element.offsetParent !== null;\n\t\t});\n\n\t\tthis._firstFocusableElement = visibleFocusableElements[0];\n\n\t\tthis._lastFocusableElement = visibleFocusableElements[visibleFocusableElements.length - 1];\n\n\t\tthis._rootEl.addEventListener( 'keydown', ( event ) => {\n\n\t\t\tif ( event.key !== 'Tab' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( ! event.shiftKey && document.activeElement === this._lastFocusableElement ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis._firstFocusableElement.focus();\n\t\t\t} else if ( event.shiftKey && document.activeElement === this._firstFocusableElement ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis._lastFocusableElement.focus();\n\t\t\t}\n\n\t\t});\n\n\t}\n\n\tdeactivate() {\n\n\t\tthis._rootEl.removeEventListener( 'keydown', () => {} );\n\n\t\tthis._firstFocusableElement = null;\n\n\t\tthis._lastFocusableElement = null;\n\n\t}\n\n}\n\nexport default Draad_Focus_Trap;"],
  "mappings": "MAEA,IAAMA,EAAN,KAAuB,CAEtB,YAAaC,EAAO,CAEnB,KAAK,QAAUA,CAEhB,CAEA,QAAU,KAEV,QAAU,GAEV,uBAAyB,KAEzB,sBAAwB,KAExB,IAAI,QAAS,CACZ,OAAO,KAAK,OACb,CAEA,IAAI,OAAQC,EAAQ,CAEd,OAAOA,GAAU,YAItB,KAAK,QAAUA,EAEV,KAAK,QACT,KAAK,SAAS,EAEd,KAAK,WAAW,EAGlB,CAEA,UAAW,CAEV,GAAK,CAAE,KAAK,OACX,OAOD,IAAMC,EAHoB,MAAM,KAAM,KAAK,QAAQ,iBAAkB,+DAAgE,CAAE,EAGpF,OAAUC,GACrDA,EAAQ,eAAiB,IAChC,EAED,KAAK,uBAAyBD,EAAyB,CAAC,EAExD,KAAK,sBAAwBA,EAAyBA,EAAyB,OAAS,CAAC,EAEzF,KAAK,QAAQ,iBAAkB,UAAaE,GAAW,CAEjDA,EAAM,MAAQ,QAId,CAAEA,EAAM,UAAY,SAAS,gBAAkB,KAAK,uBACxDA,EAAM,eAAe,EACrB,KAAK,uBAAuB,MAAM,GACvBA,EAAM,UAAY,SAAS,gBAAkB,KAAK,yBAC7DA,EAAM,eAAe,EACrB,KAAK,sBAAsB,MAAM,GAGnC,CAAC,CAEF,CAEA,YAAa,CAEZ,KAAK,QAAQ,oBAAqB,UAAW,IAAM,CAAC,CAAE,EAEtD,KAAK,uBAAyB,KAE9B,KAAK,sBAAwB,IAE9B,CAED,EAEOC,EAAQN",
  "names": ["Draad_Focus_Trap", "node", "value", "visibleFocusableElements", "element", "event", "focusTrap_default"]
}
