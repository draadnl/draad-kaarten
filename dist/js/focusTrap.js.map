{
  "version": 3,
  "sources": ["../../src/js/focusTrap.js"],
  "sourcesContent": ["`use strict`;\n\nclass Draad_Focus_Trap {\n\n    constructor( node ) {\n\n        this._rootEl = node;\n\n    }\n\n    _rootEl = null;\n\n    _active = false;\n\n    _firstFocusableElement = null;\n\n    _lastFocusableElement = null;\n\n    get active() {\n        return this._active;\n    }\n\n    set active( value ) {\n\n        if ( typeof value !== 'boolean' ) {\n            return;\n        }\n\n        this._active = value;\n\n        if ( this._active ) {\n            this.activate();\n        } else {\n            this.deactivate();\n        }\n\n    }\n    \n    activate() {\n\n        if ( ! this.active ) {\n            return;\n        }\n\n        // get all focusable children\n        const focusableElements = Array.from( this._rootEl.querySelectorAll( 'a[href], button, textarea, input, select, summary, [tabindex]' ) );\n\n        // filter out elements that are not visible\n        const visibleFocusableElements = focusableElements.filter( ( element ) => {\n            return element.offsetParent !== null;\n        });\n\n        this._firstFocusableElement = visibleFocusableElements[0];\n\n        this._lastFocusableElement = visibleFocusableElements[visibleFocusableElements.length - 1];\n\n        this._rootEl.addEventListener( 'keydown', ( event ) => {\n\n            if ( event.key !== 'Tab' ) {\n                return;\n            }\n\n            if ( ! event.shiftKey && document.activeElement === this._lastFocusableElement ) {\n                event.preventDefault();\n                this._firstFocusableElement.focus();\n            } else if ( event.shiftKey && document.activeElement === this._firstFocusableElement ) {\n                event.preventDefault();\n                this._lastFocusableElement.focus();\n            }\n\n        });\n\n    }\n\n    deactivate() {\n\n        this._rootEl.removeEventListener( 'keydown', () => {} );\n\n        this._firstFocusableElement = null;\n\n        this._lastFocusableElement = null;\n\n    }\n\n}\n\nexport default Draad_Focus_Trap;"],
  "mappings": "MAEA,IAAMA,EAAN,KAAuB,CAEnB,YAAaC,EAAO,CAEhB,KAAK,QAAUA,CAEnB,CAEA,QAAU,KAEV,QAAU,GAEV,uBAAyB,KAEzB,sBAAwB,KAExB,IAAI,QAAS,CACT,OAAO,KAAK,OAChB,CAEA,IAAI,OAAQC,EAAQ,CAEX,OAAOA,GAAU,YAItB,KAAK,QAAUA,EAEV,KAAK,QACN,KAAK,SAAS,EAEd,KAAK,WAAW,EAGxB,CAEA,UAAW,CAEP,GAAK,CAAE,KAAK,OACR,OAOJ,IAAMC,EAHoB,MAAM,KAAM,KAAK,QAAQ,iBAAkB,+DAAgE,CAAE,EAGpF,OAAUC,GAClDA,EAAQ,eAAiB,IACnC,EAED,KAAK,uBAAyBD,EAAyB,CAAC,EAExD,KAAK,sBAAwBA,EAAyBA,EAAyB,OAAS,CAAC,EAEzF,KAAK,QAAQ,iBAAkB,UAAaE,GAAW,CAE9CA,EAAM,MAAQ,QAId,CAAEA,EAAM,UAAY,SAAS,gBAAkB,KAAK,uBACrDA,EAAM,eAAe,EACrB,KAAK,uBAAuB,MAAM,GAC1BA,EAAM,UAAY,SAAS,gBAAkB,KAAK,yBAC1DA,EAAM,eAAe,EACrB,KAAK,sBAAsB,MAAM,GAGzC,CAAC,CAEL,CAEA,YAAa,CAET,KAAK,QAAQ,oBAAqB,UAAW,IAAM,CAAC,CAAE,EAEtD,KAAK,uBAAyB,KAE9B,KAAK,sBAAwB,IAEjC,CAEJ,EAEOC,EAAQN",
  "names": ["Draad_Focus_Trap", "node", "value", "visibleFocusableElements", "element", "event", "focusTrap_default"]
}
